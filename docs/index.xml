<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>M.2 Oculink Adapter – Documentation</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/</link><description>Recent content in Documentation on M.2 Oculink Adapter</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://williamyang98.github.io/oculink_m2_adapter/docs/index.xml" rel="self" type="application/rss+xml"/><item><title>Hatched ground</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/open_ems/hatched_ground/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/open_ems/hatched_ground/</guid><description>
&lt;h2>Simulation setup&lt;span class="hx-absolute -hx-mt-20" id="simulation-setup">&lt;/span>
&lt;a href="#simulation-setup" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_hatched_debug.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Automatically generated hatched ground plane for openEMS simulation&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_hatched_3d.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Automatically generated hatched ground plane 3D model&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>Various geometries were auto-generated by a Python script which produced image files with different hatch configurations.&lt;/li>
&lt;li>These were then given to gerber2ems to simulate using openEMS.&lt;/li>
&lt;li>A parametric search over the hatch width and gap amount for the optimum search was performed.&lt;/li>
&lt;/ul>
&lt;h2>Parameter search&lt;span class="hx-absolute -hx-mt-20" id="parameter-search">&lt;/span>
&lt;a href="#parameter-search" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_hatched_s_params.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>S-parameter results of parameterised search of hatched ground plane with a hatch width of 150um&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_hatched_reflectance.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Reflectance results of parameterised search of hatched ground plane with a hatch width of 150um&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>The configuration with the lowest mean energy loss in our frequency range of interest (0GHz to 40GHz) was chosen.&lt;/li>
&lt;li>This was repeated for a range of different hatch widths, and the optimum out of these was then chosen.&lt;/li>
&lt;/ul>
&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_hatched_s_params_overall.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>S-parameter results of parameterised search of hatched ground plane across all parameters&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_hatched_reflectance_overall.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Reflectance results of parameterised search of hatched ground plane across all parameters&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Discussion&lt;span class="hx-absolute -hx-mt-20" id="discussion">&lt;/span>
&lt;a href="#discussion" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>The average reflectance seemed to have a minimum offset of &lt;code>Γ = 0.1&lt;/code> which was probably due to the bad impedance match when transitioning from the solid ground plane to hatched ground plane in the simulation.&lt;/li>
&lt;li>Highly likely that this would also occur in our flexible PCB since there is also a similar transition at the soldered connection.&lt;/li>
&lt;li>Doesn&amp;rsquo;t simulate dielectric loss or skin effect which is important for predicting how lossy the design is, especially at higher frequencies where these effects are significant.
&lt;ul>
&lt;li>Right now the gerber2ems script uses a perfect conductor as the metal material, however openEMS has &lt;a href="https://wiki.openems.de/index.php/Metal_Property.html" target="_blank" rel="noopener">ConductingSheet&lt;/a> which simulates conductivity for lossy conductors.&lt;/li>
&lt;li>Both dielectric loss and skin effect losses increase at higher frequencies however conductivity is flat across all frequencies, which makes it unsuitable for simulating these lossy effects.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Installation</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/results/installation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/results/installation/</guid><description>
&lt;h2>Single board adapter&lt;span class="hx-absolute -hx-mt-20" id="single-board-adapter">&lt;/span>
&lt;a href="#single-board-adapter" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/pictures/laptop_photo_single_board.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Single board Oculink adapter installed in laptop&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Doesn&amp;rsquo;t require routing of cables under M.2 slot.&lt;/li>
&lt;li>Port was positioned differently in later designs, but Oculink connection can still be made by bending the board slightly.&lt;/li>
&lt;/ul>
&lt;h2>Flexible PCB multi board adapter&lt;span class="hx-absolute -hx-mt-20" id="flexible-pcb-multi-board-adapter">&lt;/span>
&lt;a href="#flexible-pcb-multi-board-adapter" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/pictures/laptop_photo_flex_pcb.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Flexible PCB multi-board Oculink adapter installed in laptop&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/pictures/laptop_photo_flex_pcb_with_m2.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Flexible PCB multi-board Oculink adapter and M.2 SSD installed in laptop&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>M.2 2280 SSD is removed so flexible PCB can be routed under it.&lt;/li>
&lt;li>M.2 card and Oculink port board are screwed.&lt;/li>
&lt;li>Oculink port board can be positioned to perfectly match the routed Oculink port hole in the laptop chassis.&lt;/li>
&lt;li>M.2 2280 SSD is installed ontop of the flexible PCB.&lt;/li>
&lt;/ul>
&lt;h2>Aliexpress PCIe 4.0 adapter&lt;span class="hx-absolute -hx-mt-20" id="aliexpress-pcie-40-adapter">&lt;/span>
&lt;a href="#aliexpress-pcie-40-adapter" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/aliexpress_m2_oculink_pcie4_extension.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Aliexpress M.2 Oculink PCIe 4.0 silver plated extension cable&lt;/i>
&lt;a href="https://www.aliexpress.com/item/1005007486714630.html">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/pictures/laptop_photo_aliexpress.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Aliexpress PCIe 4.0 Oculink adapter installed in laptop&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>Aliexpress adapter extension is made of micro-coaxial cable.&lt;/li>
&lt;li>These can be bent to fit inside the laptop chassis and routed underneath the M.2 2280 SSD.&lt;/li>
&lt;/ul>
&lt;h2>Oculink port&lt;span class="hx-absolute -hx-mt-20" id="oculink-port">&lt;/span>
&lt;a href="#oculink-port" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/pictures/laptop_photo_side_port.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Oculink port exposed on laptop&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Oculink port hole was created by drilling with tungsten drill bits.&lt;/li>
&lt;li>Multiple drill holes were used to create a rough opening and then sanded down into the correct shape.&lt;/li>
&lt;/ul></description></item><item><title>Ordering</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/manufacturing/ordering/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/manufacturing/ordering/</guid><description>
&lt;div class="hx-overflow-x-auto hx-mt-6 hx-flex hx-flex-col hx-rounded-lg hx-border hx-py-4 hx-px-4 contrast-more:hx-border-current contrast-more:dark:hx-border-current hx-border-blue-200 hx-bg-blue-100 hx-text-blue-900 dark:hx-border-blue-200/30 dark:hx-bg-blue-900/30 dark:hx-text-blue-200">
&lt;p class="hx-flex hx-items-center hx-font-medium">&lt;svg height=16px class="hx-inline-block hx-align-middle hx-mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>&lt;/svg>Note&lt;/p>
&lt;div class="hx-w-full hx-min-w-0 hx-leading-7">
&lt;div class="hx-mt-6 hx-leading-7 first:hx-mt-0">&lt;p>All prices are listed in $USD.&lt;/p>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>JLCPCB&lt;span class="hx-absolute -hx-mt-20" id="jlcpcb">&lt;/span>
&lt;a href="#jlcpcb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Single board design&lt;span class="hx-absolute -hx-mt-20" id="single-board-design">&lt;/span>
&lt;a href="#single-board-design" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>0.8mm thickness&lt;/li>
&lt;li>4 layers&lt;/li>
&lt;li>120mm by 80mm&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Part&lt;/th>
&lt;th>Cost&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Base&lt;/td>
&lt;td>$2.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4 layer 0.8mm stackup required HASL finish&lt;/td>
&lt;td>$4.80&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4 layer stackup above 50mmx50mm&lt;/td>
&lt;td>$5.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Engineering cost of boards above 100mmx100m&lt;/td>
&lt;td>$24.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
&lt;td>&lt;strong>$35.80&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Flexible PCB design&lt;span class="hx-absolute -hx-mt-20" id="flexible-pcb-design">&lt;/span>
&lt;a href="#flexible-pcb-design" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>M.2 card&lt;span class="hx-absolute -hx-mt-20" id="m2-card">&lt;/span>
&lt;a href="#m2-card" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>0.8mm thickness&lt;/li>
&lt;li>4 layers&lt;/li>
&lt;li>22mm x 42mm&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Part&lt;/th>
&lt;th>Cost&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Base&lt;/td>
&lt;td>$2.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4 layer 0.8mm stackup required HASL finish&lt;/td>
&lt;td>$4.80&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
&lt;td>&lt;strong>$6.80&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Oculink port board&lt;span class="hx-absolute -hx-mt-20" id="oculink-port-board">&lt;/span>
&lt;a href="#oculink-port-board" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>1.6mm thickness&lt;/li>
&lt;li>4 layers&lt;/li>
&lt;li>87mm x 21mm&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Part&lt;/th>
&lt;th>Cost&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Base&lt;/td>
&lt;td>$2.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4 layer stackup above 50mmx50mm&lt;/td>
&lt;td>$5.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
&lt;td>&lt;strong>$7.00&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Flexible PCB&lt;span class="hx-absolute -hx-mt-20" id="flexible-pcb">&lt;/span>
&lt;a href="#flexible-pcb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;ul>
&lt;li>0.11mm thickness&lt;/li>
&lt;li>2 layers&lt;/li>
&lt;li>83mm by 77mm&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Part&lt;/th>
&lt;th>Cost&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Base&lt;/td>
&lt;td>$2.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
&lt;td>&lt;strong>$2.00&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Total cost of all boards&lt;span class="hx-absolute -hx-mt-20" id="total-cost-of-all-boards">&lt;/span>
&lt;a href="#total-cost-of-all-boards" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Board&lt;/th>
&lt;th>Cost&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>M.2 card&lt;/td>
&lt;td>$6.80&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Oculink port board&lt;/td>
&lt;td>$7.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Flexible PCB&lt;/td>
&lt;td>$2.00&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
&lt;td>&lt;strong>$15.80&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Components&lt;span class="hx-absolute -hx-mt-20" id="components">&lt;/span>
&lt;a href="#components" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The components for both the single board design and multi-board flexible PCB design are identical.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Part&lt;/th>
&lt;th>Unit Cost&lt;/th>
&lt;th>Quantity&lt;/th>
&lt;th>Total&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Amphenol Oculink port &lt;br>(G14A42121B12HR)&lt;/td>
&lt;td>$3.50&lt;/td>
&lt;td>1&lt;/td>
&lt;td>$3.50&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>SOD52 Schottky diode&lt;/td>
&lt;td>$0.25&lt;/td>
&lt;td>1&lt;/td>
&lt;td>$0.25&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>X7R 040 10nF MLCC&lt;/td>
&lt;td>$0.05&lt;/td>
&lt;td>5&lt;/td>
&lt;td>$0.25&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;strong>$4.00&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>Components were ordered from &lt;a href="https://au.mouser.com/" target="_blank" rel="noopener">Mouser Australia&lt;/a>.&lt;/li>
&lt;li>There are minimum order quantities for the Oculink port connector which has a MOQ of 5.&lt;/li>
&lt;li>Price of extra components are not considered since we are just interested in cost of a completed M.2 to Oculink adapter board.&lt;/li>
&lt;/ul></description></item><item><title>PCIe Specification</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/pcie_specification/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/pcie_specification/</guid><description>
&lt;h2>PCIe pinout&lt;span class="hx-absolute -hx-mt-20" id="pcie-pinout">&lt;/span>
&lt;a href="#pcie-pinout" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Differential signalling along receive (RX) and transmit (TX) lanes.
&lt;ul>
&lt;li>Polarity of lanes can be inverted.&lt;/li>
&lt;li>Order of lanes can be reversed between host and device.&lt;/li>
&lt;li>Number of RX and TX lanes must be the same (symmetrical).&lt;/li>
&lt;li>Allows for more flexible routing in space constrained environment.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Reference clock is provided from host for timing and synchronisation (100MHz).
&lt;ul>
&lt;li>Polarity cannot be swapped.&lt;/li>
&lt;li>Supposed to be optional but is actually mandatory for almost all devices.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>CLKREQ&lt;/code> is pull downed by device to request PCIe reference clock.&lt;/li>
&lt;li>&lt;code>PERST&lt;/code> is used to reset the PCIe link.&lt;/li>
&lt;li>&lt;code>PEWAKE&lt;/code> is used by device to signal to host to wake up (maybe for network cards?).&lt;/li>
&lt;li>&lt;code>SMBCLK&lt;/code> and &lt;code>SMBDAT&lt;/code> is the system management bus and is an I2C interface (optional?)&lt;/li>
&lt;/ul>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/pcie_x4_pinout.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 1. PCIe x4 connector pinout&lt;/i>
&lt;a href="https://www.adt.link/download/ADT-Cable-R42SF-specification.html">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;h2>PCIe generations&lt;span class="hx-absolute -hx-mt-20" id="pcie-generations">&lt;/span>
&lt;a href="#pcie-generations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>With differential signalling the fundemental frequency is half the transfer rate.&lt;/li>
&lt;li>An encoding scheme of xb/yb means X bits out for Y bits in.
&lt;ul>
&lt;li>8b/10b: 1 start bit, 8 data bits, 1 end bit.&lt;/li>
&lt;li>128b/130b: 1 start bit, 128 data bits, 1 end bit.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Gen&lt;/th>
&lt;th>Freq (GHz)&lt;/th>
&lt;th>Transfers (GT/s)&lt;/th>
&lt;th>Encoding&lt;/th>
&lt;th>Bitrate (Gb/s/lane)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1.0&lt;/td>
&lt;td>1.25&lt;/td>
&lt;td>2.5&lt;/td>
&lt;td>8b/10b&lt;/td>
&lt;td>2.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.0&lt;/td>
&lt;td>2.5&lt;/td>
&lt;td>5.0&lt;/td>
&lt;td>8b/10b&lt;/td>
&lt;td>4.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.0&lt;/td>
&lt;td>4.0&lt;/td>
&lt;td>8.0&lt;/td>
&lt;td>128b/130b&lt;/td>
&lt;td>7.88&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4.0&lt;/td>
&lt;td>8.0&lt;/td>
&lt;td>16.0&lt;/td>
&lt;td>128b/130b&lt;/td>
&lt;td>15.75&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.0&lt;/td>
&lt;td>16.0&lt;/td>
&lt;td>32.0&lt;/td>
&lt;td>128b/130b&lt;/td>
&lt;td>31.51&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.fibermall.com/blog/pci-e-8-things-need-to-know.htm?srsltid=AfmBOopgeGo-dXRX-pSEtWbIZLO_PH3ypMCtOfEtcSswcBTuCEQRbUBx#%E2%97%8F_PCI_Express_10" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>PCIe: 8 Things You Need to Know Early&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h2>Maximum design frequency&lt;span class="hx-absolute -hx-mt-20" id="maximum-design-frequency">&lt;/span>
&lt;a href="#maximum-design-frequency" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>For a good eye opening the transmissions lines should be designed for 5x the fundemental frequency. For PCIe 4.0 the fundamental frequency is 8GHz which means an ideal maximum design frequency of 40GHz.&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/altium_eye_diagram.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 16. Eye diagram&lt;/i>
&lt;a href="https://resources.altium.com/p/what-eye-diagram">(source)&lt;/a>
&lt;/div>
&lt;/div></description></item><item><title>Reference designs</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/reference_designs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/reference_designs/</guid><description>
&lt;h2>Points to verify&lt;span class="hx-absolute -hx-mt-20" id="points-to-verify">&lt;/span>
&lt;a href="#points-to-verify" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Do you wire from PERxy on the M.2 side to PERxy on the Oculink side, or PERxy to PETxy?&lt;/li>
&lt;li>Do all of the control signals need to be connected?&lt;/li>
&lt;li>Is SMB (system management bus) data and clock required or is it optional?&lt;/li>
&lt;li>What about the MFG (manufacturer) data and clock on the M.2 card which is not present on the Oculink connector or PCIe standard?&lt;/li>
&lt;li>Is lane reordering and polarity inversion okay to use for routing PCIe connections?&lt;/li>
&lt;/ul>
&lt;h2>AdtLink M.2 to PCIe extension&lt;span class="hx-absolute -hx-mt-20" id="adtlink-m2-to-pcie-extension">&lt;/span>
&lt;a href="#adtlink-m2-to-pcie-extension" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/adtlink_m2_to_pcie4_adapter_schematic.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 4. Adtlink M.2 to PCIe 4.0 adapter&lt;/i>
&lt;a href="https://www.adt.link/download/ADT-Cable-R42SF-specification.html">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/adtlink_m2_pcie_x4_extension.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Adtlink M.2 PCIe x4 extension cable schematic&lt;/div>
&lt;/a>
&lt;a href="https://www.adt.link/download/ADT-Cable-R42SF-specification.html">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;code>[CLKREQ, PERST]&lt;/code> are connected.&lt;/li>
&lt;li>&lt;code>[PEWAKE, PEDET]&lt;/code> are &lt;strong>not&lt;/strong> connected.&lt;/li>
&lt;li>&lt;code>[SMB_CLOCK, SMB_DATA]&lt;/code> are &lt;strong>not&lt;/strong> connected.&lt;/li>
&lt;li>&lt;code>[MFG_CLOCK, MFG_DATA]&lt;/code> are &lt;strong>not&lt;/strong> connected.&lt;/li>
&lt;li>&lt;code>3.3V&lt;/code> is connected.&lt;/li>
&lt;li>&lt;code>REFCLK&lt;/code> is connected with same polarity.&lt;/li>
&lt;li>&lt;code>[PERxy, PETxy]&lt;/code> lanes are connected with same polarity and same order.&lt;/li>
&lt;/ul>
&lt;h2>GPD Win v1 M.2 to Oculink card&lt;span class="hx-absolute -hx-mt-20" id="gpd-win-v1-m2-to-oculink-card">&lt;/span>
&lt;a href="#gpd-win-v1-m2-to-oculink-card" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/gpdwin1_m2_to_oculink_adapter_schematic.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 5. GPD win 1 M.2 to Oculink adapter card&lt;/i>
&lt;a href="https://gpd.hk/gpdg1firmwaredriver">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/gpdwin1_schematic.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Gpdwin1 M.2 to Oculink adapter schematic&lt;/div>
&lt;/a>
&lt;a href="https://gpd.hk/gpdg1firmwaredriver">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;code>[PERST, PEDET]&lt;/code> are connected.&lt;/li>
&lt;li>&lt;code>CLKREQ&lt;/code> is connected but through a Schottky diode.&lt;/li>
&lt;li>&lt;code>PEWAKE&lt;/code> is &lt;strong>not&lt;/strong> connected.&lt;/li>
&lt;li>&lt;code>[SMB_CLOCK, SMB_DATA]&lt;/code> are &lt;strong>not&lt;/strong> connected.&lt;/li>
&lt;li>&lt;code>[MFG_CLOCK, MFG_DATA]&lt;/code> are &lt;strong>not&lt;/strong> connected.&lt;/li>
&lt;li>&lt;code>3.3V&lt;/code> is connected through a jumper.&lt;/li>
&lt;li>&lt;code>REFCLK&lt;/code> is connected with same polarity.&lt;/li>
&lt;li>&lt;code>[PERxy, PETxy]&lt;/code> lanes are connected with same polarity and same order.&lt;/li>
&lt;/ul>
&lt;h2>Adtlink M.2 to Oculink card&lt;span class="hx-absolute -hx-mt-20" id="adtlink-m2-to-oculink-card">&lt;/span>
&lt;a href="#adtlink-m2-to-oculink-card" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/adtlink_f4c_m2_to_oculink_adapter.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 6. Adtlink F4C M.2 to Oculink adapter card&lt;/i>
&lt;a href="https://www.adt.link/product/F9GV4.html">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/adtlink_f4c_m2_to_oculink_adapter_photo.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 7. Purchased Adtlink F4C M.2 to Oculink adapter card with modifications&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.adt.link/product/F9GV4.html" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Adtlink PCIe 4.0 eGPU Oculink dock&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;code>[PERST, CLKREQ]&lt;/code> are connected.&lt;/li>
&lt;li>&lt;code>[PEWAKE, PEDET]&lt;/code> are &lt;strong>not&lt;/strong> connected.&lt;/li>
&lt;li>&lt;code>[SMB_CLOCK, SMB_DATA]&lt;/code> are connected.&lt;/li>
&lt;li>&lt;code>[MFG_CLOCK, MFG_DATA]&lt;/code> are &lt;strong>not&lt;/strong> connected.&lt;/li>
&lt;li>&lt;code>3.3V&lt;/code> is connected.&lt;/li>
&lt;li>&lt;code>REFCLK&lt;/code> is connected with same polarity.&lt;/li>
&lt;li>&lt;code>[PERxy, PETxy]&lt;/code> lanes are connected with opposite polarity and opposite order.&lt;/li>
&lt;/ul>
&lt;h2>Summary&lt;span class="hx-absolute -hx-mt-20" id="summary">&lt;/span>
&lt;a href="#summary" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;code>PERST&lt;/code> must be connected.&lt;/li>
&lt;li>&lt;code>CLKREQ&lt;/code> must be connected, possibly through a diode, or shorted to ground on host side.&lt;/li>
&lt;li>&lt;code>PERST&lt;/code> is optional.&lt;/li>
&lt;li>&lt;code>PEWAKE&lt;/code> is not connected (might be optional?).&lt;/li>
&lt;li>&lt;code>[SMB_CLOCK, SMB_DATA]&lt;/code> are optional.&lt;/li>
&lt;li>&lt;code>[MFG_CLOCK, MFG_DATA]&lt;/code> are not connected.&lt;/li>
&lt;li>&lt;code>3.3V&lt;/code> is connected.&lt;/li>
&lt;li>&lt;code>REFCLK&lt;/code> must be connected with same polarity.&lt;/li>
&lt;li>&lt;code>[PERxy, PETxy]&lt;/code> can be connected in opposite polarity and/or opposite order.&lt;/li>
&lt;/ul></description></item><item><title>Structures</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/structures/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/structures/</guid><description>
&lt;p>PCIe receive and transmit lanes and reference clock are high frequency differential signals. There are many possible designs for a differential transmission line.&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/sierra_express_differential_pair_topologies.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 15. Differential pair topologies&lt;/i>
&lt;a href="https://impedance.app.protoexpress.com/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;h2>Common mode noise&lt;span class="hx-absolute -hx-mt-20" id="common-mode-noise">&lt;/span>
&lt;a href="#common-mode-noise" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>In theory a perfectly balanced differential pair would only need two conductors to handle the symmetrical current path however this should not be relied upon.&lt;/p>
&lt;ul>
&lt;li>Common mode noise can arise due to power supply differences between host and device. This is especially important because we have a laptop powered by a USB C dock and an eGPU powered by a separate power supply.&lt;/li>
&lt;li>Without a ground plane or coplanar ground trace the return current for the common mode signal may be over a large loop area.
&lt;ul>
&lt;li>This can pickup interference from environmental sources and harm signal integrity.&lt;/li>
&lt;li>Increases amount of EMI induced in signal traces within that loop area.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2>Crosstalk&lt;span class="hx-absolute -hx-mt-20" id="crosstalk">&lt;/span>
&lt;a href="#crosstalk" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Given our tight routing requirements our PCIe lanes would be extremely close together by only a few multiples of the trace width. This means we need to be very careful about inter-lane crosstalk.&lt;/p>
&lt;ul>
&lt;li>Can be fixed by increasing separation between lanes which is not possible given our tight space requirements.&lt;/li>
&lt;li>Adding a ground plane to confine the electric field generated by the differential pair (almost always helps).&lt;/li>
&lt;li>Adding coplanar guard traces to separate adjacent lanes and add additional E-field confinement.
&lt;ul>
&lt;li>Sometimes can worsen crosstalk if guard trace is high impedance and functions closer to a resonant tank than a ground trace.&lt;/li>
&lt;li>Can be improved by turning coplanar guard traces into a &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/via_fence
" >via fence&lt;/a> by stitching them to a ground plane&lt;/li>
&lt;li>This guarantees coplanar guard trace is low impedance.&lt;/li>
&lt;li>Also adds additional grounding with vias which further improves E-field confinement and prevents inter-lane crosstalk.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2>Best design&lt;span class="hx-absolute -hx-mt-20" id="best-design">&lt;/span>
&lt;a href="#best-design" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following should be used for an optimal differential pair transmission line:&lt;/p>
&lt;ul>
&lt;li>Solid ground plane&lt;/li>
&lt;li>Coplanar guard traces&lt;/li>
&lt;li>Via fence&lt;/li>
&lt;/ul>
&lt;p>Through this we should be able to reduce crosstalk, handle common mode noise, and reduce EMI emissions even with tightly packed PCIe lanes.&lt;/p>
&lt;h2>Resources&lt;span class="hx-absolute -hx-mt-20" id="resources">&lt;/span>
&lt;a href="#resources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/texas_instrument_pcie4_layout_guidelines.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Layout guidelines for PCIe Gen 4.0&lt;/div>
&lt;/a>
&lt;a href="https://www.ti.com/lit/an/slaae45/slaae45.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul></description></item><item><title>Laptop measurements</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/laptop_measurements/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/laptop_measurements/</guid><description>
&lt;h2>Measurement and modelling&lt;span class="hx-absolute -hx-mt-20" id="measurement-and-modelling">&lt;/span>
&lt;a href="#measurement-and-modelling" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/pictures/lenovo_16arp8_adapter_layout_prototype.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 8. Measurements and prototype layout for M.2 to Oculink adapter&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/lenovo_16arp8_3d_model.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 9. 3D modelling of Lenovo 16arp8 based on measurements&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>Modelling was done from a sparse set of measurements.&lt;/li>
&lt;li>After modelling was done arbitrary measurements of any feature could be done.&lt;/li>
&lt;li>Easier than measuring every possible dimension when needed.&lt;/li>
&lt;/ul>
&lt;h2>Planning&lt;span class="hx-absolute -hx-mt-20" id="planning">&lt;/span>
&lt;a href="#planning" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Longer M.2 2280 slot is used for high capacity SSD.&lt;/li>
&lt;li>Shorter M.2 2242 slot is available but in a less convenient location.&lt;/li>
&lt;li>Left speaker can be removed to make room for Oculink port.&lt;/li>
&lt;li>M.2 2242 slot has 1mm of clearance for bottom side passive components.&lt;/li>
&lt;li>&lt;strong>Option 1&lt;/strong>: Very narrow 12mm gap between M.2 2280 connector and internal display connector for single board design for side Oculink port.&lt;/li>
&lt;li>&lt;strong>Option 2&lt;/strong>: Vertical space underneath M.2 2280 slot for routing with a flex pcb design that has a side Oculink port.&lt;/li>
&lt;li>&lt;strong>Option 3&lt;/strong>: Use vertical Oculink adapter and have port on bottom instead of side of laptop.&lt;/li>
&lt;/ul>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 75%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/nfhk_vertical_m2_to_oculink_adapter.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 10. NFHK vertical M.2 to Oculink adapter card&lt;/i>
&lt;a href="https://www.aliexpress.com/item/1005007302462841.html">(source)&lt;/a>
&lt;/div>
&lt;/div></description></item><item><title>M.2 to Oculink</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/components/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/components/</guid><description>
&lt;h2>M.2 card&lt;span class="hx-absolute -hx-mt-20" id="m2-card">&lt;/span>
&lt;a href="#m2-card" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Usually used for M.2 SSDs in laptop or desktop motherboards.&lt;/li>
&lt;li>Pins follow the PCIe specification for x4 lanes.&lt;/li>
&lt;/ul>
&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 75%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/m2_card_size.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 2. M.2 card size standards&lt;/i>
&lt;a href="https://www.unitek-products.com/products/usb3-1-gen2-type-c-to-m-2-ssd-pcie-nvme-enclosure">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/m2_connector_pinout_table.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Table 1. M.2 connector pinout&lt;/i>
&lt;a href="https://www.anandtech.com/show/13609/pcisig-warns-of-incompatibilities-between-m2-and-samsungs-ngsff">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Oculink port&lt;span class="hx-absolute -hx-mt-20" id="oculink-port">&lt;/span>
&lt;a href="#oculink-port" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Follows the SFF-9402 specification which is compatible with PCIe&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/sff_9402_specification.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">SFF-9402 specification&lt;/div>
&lt;/a>
&lt;a href="https://members.snia.org/document/dl/27380">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>Female port is rated for 10000 insertion cycles.&lt;/li>
&lt;li>Male cable is rated at a minimum of 50.&lt;/li>
&lt;li>Compatible with the PCIe specification for x4 or x8 lanes.&lt;/li>
&lt;li>Wider x8 lane variant is not as useful since no M.2 slot as of yet supports PCIe x8 lanes.&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/amphenol_oculink_port_datasheet.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Amphenol Oculink port datasheet&lt;/div>
&lt;/a>
&lt;a href="https://cdn.amphenol-cs.com/media/wysiwyg/files/documentation/ps-7545.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/amphenol_oculink_port.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 3. Amphenol oculink port&lt;/i>
&lt;a href="https://www.amphenol-cs.com/product-series/oculink.html">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/amphenol_oculink_port_pinout_table.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Table 2. Amphenol Oculink connector pinout&lt;/i>
&lt;a href="https://electronics.stackexchange.com/questions/675174/oculink-connector-pin-configuration-for-root-port-and-endpoint">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;/p></description></item><item><title>Reflow soldering</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/manufacturing/reflow_soldering/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/manufacturing/reflow_soldering/</guid><description>
&lt;h2>Equipment&lt;span class="hx-absolute -hx-mt-20" id="equipment">&lt;/span>
&lt;a href="#equipment" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Reflow soldering plate.&lt;/li>
&lt;li>Soldering iron with a conical tip.&lt;/li>
&lt;li>Magnifying glass.&lt;/li>
&lt;li>Isopropyl alcohol.&lt;/li>
&lt;li>Metal tweezers.&lt;/li>
&lt;/ul>
&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/pictures/mechanic_ix5_reflow.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Mechanic IX5 reflow heating plate&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/ts100_soldering_iron.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>TS-100 soldering iron&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Reflow profile&lt;span class="hx-absolute -hx-mt-20" id="reflow-profile">&lt;/span>
&lt;a href="#reflow-profile" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ol>
&lt;li>Set a target temperature on the Mechanic IX5 reflow plate.&lt;/li>
&lt;li>Activate the reflow process which will increase the temperate by 1°C each second until target temperature is reached.&lt;/li>
&lt;li>Once the reflow temperature is reached let it remain at this temperature until reflow has finished.&lt;/li>
&lt;li>Allow the PCB to cool which decrease temperature by 1°C each second until it is cool enough to handle.&lt;/li>
&lt;/ol>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/reflow_profile.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Reflow profile&lt;/i>
&lt;a href="https://www.7pcb.com/blog/lead-free-reflow-profile">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>The Mechanic IX5 can be used to follow an arbitrary reflow profile (including the shown trapezoidal or delta types). The delta type reflow profile is sufficient for the Oculink port.&lt;/p>
&lt;h2>Instructions&lt;span class="hx-absolute -hx-mt-20" id="instructions">&lt;/span>
&lt;a href="#instructions" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Reflow soldering components&lt;span class="hx-absolute -hx-mt-20" id="reflow-soldering-components">&lt;/span>
&lt;a href="#reflow-soldering-components" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ol>
&lt;li>Apply stencil for Oculink connector and capacitors to spread solder paste.&lt;/li>
&lt;li>Visually check to make sure there are no bridges or missing solder paste on SMD pads.&lt;/li>
&lt;li>Place oculink port carefully onto SMD pads as to align them correctly.&lt;/li>
&lt;li>Follow reflow profile with a target temperature of 220°C and keep it there for 60 seconds before ramping it down.&lt;/li>
&lt;li>Visually confirm that there are no solder bridges on visible connections.&lt;/li>
&lt;li>Validate that there are no shorts or bad connections following &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/manufacturing/electrical_testing
" >electrical testing&lt;/a>.
&lt;ul>
&lt;li>Due to simple design of circuit the complications should only occur with the Oculink port itself.&lt;/li>
&lt;li>Here excessive or insufficient solder paste can result in short circuits or a missing electrical connection.&lt;/li>
&lt;li>Repeat steps 1 to 5 until the Oculink port is soldered correctly.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>For the flexible PCB design continue to the following instructions below.&lt;/p>
&lt;h3>Soldering flex connector&lt;span class="hx-absolute -hx-mt-20" id="soldering-flex-connector">&lt;/span>
&lt;a href="#soldering-flex-connector" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>This process is only required for the two part board which is connected over the flexible PCB.&lt;/p>
&lt;ol>
&lt;li>Perform reflow soldering of components for each of the two boards as described above.&lt;/li>
&lt;li>Tin the SMD connection pads on both the flexible PCB and M2 card and Oculink port board.
&lt;ul>
&lt;li>Make sure that there is a minimal amount of solder to prevent shorts when reflow soldering connector.&lt;/li>
&lt;li>Check to see if amount of solder has same height across all pads. If there isn&amp;rsquo;t remove it until it is level.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Focus on the Oculink port board first and preheat it to 140°C.&lt;/li>
&lt;li>Preheat the soldering iron with the conical tip to 280°C.&lt;/li>
&lt;li>Using metal tweezers carefully position the flexible connector to align with the SMD pads.
&lt;ul>
&lt;li>Add flux to the flexible connector and board will help keep the connector in place once aligned.&lt;/li>
&lt;li>Do this under a magnifying glass with mechanical helper hands.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Using the soldering iron solder the ground SMD pads after alignment.
&lt;ul>
&lt;li>Be careful to not misalign the connector.&lt;/li>
&lt;li>Increase the preheating temperature of the board to 150°C or above if soldering isn&amp;rsquo;t occuring.&lt;/li>
&lt;li>Avoid preheating the board to too high of a temperature otherwise solder may become molten and components and Oculink port can be knocked off.&lt;/li>
&lt;li>Avoid keeping the board preheated for too long otherwise PCB will discolour.&lt;/li>
&lt;li>Make sure that you have soldered enough of the ground pads to keep the connector in place.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Let the Oculink port board cool down and check that flexible PCB is &lt;strong>mechanically&lt;/strong> secure enough to move assembly around.
&lt;ul>
&lt;li>At this step there is no sound electrical connection between the board and flexible PCB.&lt;/li>
&lt;li>We only need it to be mechanically secure so we can perform the full reflow step under mechanical pressure.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Place a weight on top of the flexible PCB connection to equally apply force on the SMD pads.
&lt;ul>
&lt;li>The weight should cover the entire flexible PCB connection pads.&lt;/li>
&lt;li>The weight should not melt at the reflow temperature of 220°C.&lt;/li>
&lt;li>The weight should be secure and stationary during reflow process.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Perform reflow soldering of the flexible PCB connection while the connections are under constant force.
&lt;ul>
&lt;li>Since there are no spring contacts, the z-height tolerance of the connection is very low.&lt;/li>
&lt;li>To guarantee a good electrical connection the reflow process has to occur while the pads are under compressive pressure.&lt;/li>
&lt;li>Be careful not to disturb the existing connections such as the Oculink port and capacitors.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Perform electrical tests as described in &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/manufacturing/electrical_testing
" >electrical testing&lt;/a>.
&lt;ul>
&lt;li>This is done to make sure shorts don&amp;rsquo;t occur due at the flexible PCB connection with the Oculink port board.&lt;/li>
&lt;li>If shorts do occur at this step repeat steps 1 to 10 with less solder on the pads.&lt;/li>
&lt;li>If these is a missing electrical connection make sure that sufficient pressure has been applied during reflow.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Repeat setps 1 to 10 for the M.2 card.&lt;/li>
&lt;/ol></description></item><item><title>Synthetic benchmarks</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/results/synthetic_benchmarks/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/results/synthetic_benchmarks/</guid><description>
&lt;h2>Aida64&lt;span class="hx-absolute -hx-mt-20" id="aida64">&lt;/span>
&lt;a href="#aida64" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="width: 14rem">Name&lt;/th>
&lt;th style="width: 8rem">AMD 680M&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe3&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe4&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Read Pinned (GB/s)&lt;/td>
&lt;td>34.1&lt;/td>
&lt;td>3.38&lt;/td>
&lt;td>6.7&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Read Pageable (GB/s)&lt;/td>
&lt;td>11.7&lt;/td>
&lt;td>3.37&lt;/td>
&lt;td>6.71&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Write Pinned (GB/s)&lt;/td>
&lt;td>34.1&lt;/td>
&lt;td>3.38&lt;/td>
&lt;td>6.7&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Write Pageable (GB/s)&lt;/td>
&lt;td>11.7&lt;/td>
&lt;td>3.37&lt;/td>
&lt;td>6.71&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="hx-flex">
&lt;div class="responsive-image">&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/aida64_detailed_amd_680m.png">&lt;/div>
&lt;div class="responsive-image">&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/aida64_detailed_flex_pcb.png">&lt;/div>
&lt;div class="responsive-image">&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/aida64_detailed_amd_5700xt.png">&lt;/div>
&lt;/div>
&lt;h2>3DMark&lt;span class="hx-absolute -hx-mt-20" id="3dmark">&lt;/span>
&lt;a href="#3dmark" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>
&lt;table class="benchmark-table" key="3d_mark" style="width: 100%">
&lt;thead>
&lt;tr>
&lt;th style="width: 14rem">Name&lt;/th>
&lt;th style="width: 8rem">AMD 680M&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe3&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe4&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>PCIe Bandwidth (GB/s)&lt;/td>
&lt;td>11.2&lt;/td>
&lt;td>3.53&lt;/td>
&lt;td>6.39&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Fire Strike&lt;/td>
&lt;td>6155&lt;/td>
&lt;td>19512&lt;/td>
&lt;td>23577&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Night Raid&lt;/td>
&lt;td>23554&lt;/td>
&lt;td>35831&lt;/td>
&lt;td>52358&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Steel Nomad&lt;/td>
&lt;td>444&lt;/td>
&lt;td>1950&lt;/td>
&lt;td>2030&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Steel Nomad Light&lt;/td>
&lt;td>2308&lt;/td>
&lt;td>7299&lt;/td>
&lt;td>8218&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Time Spy&lt;/td>
&lt;td>2762&lt;/td>
&lt;td>8093&lt;/td>
&lt;td>9051&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Wild Life&lt;/td>
&lt;td>15622&lt;/td>
&lt;td>35637&lt;/td>
&lt;td>54329&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Wild Life Extreme&lt;/td>
&lt;td>4523&lt;/td>
&lt;td>15497&lt;/td>
&lt;td>18682&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="carousel" key="3d_mark">
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_pcie_bandwidth_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_pcie_bandwidth_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_pcie_bandwidth_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_fire_strike_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_fire_strike_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_fire_strike_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_night_raid_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_night_raid_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_night_raid_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_steel_nomad_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_steel_nomad_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_steel_nomad_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_steel_nomad_light_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_steel_nomad_light_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_steel_nomad_light_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_time_spy_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_time_spy_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_time_spy_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_wild_life_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_wild_life_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_wild_life_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_wild_life_extreme_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_wild_life_extreme_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/3dmark_wild_life_extreme_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-controls">
&lt;div class="carousel-button carousel-left hx-shadow">❮&lt;/div>
&lt;div class="carousel-button carousel-right hx-shadow">❯&lt;/div>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Unigine&lt;span class="hx-absolute -hx-mt-20" id="unigine">&lt;/span>
&lt;a href="#unigine" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>
&lt;table class="benchmark-table" key="unigine" style="width: 100%">
&lt;thead>
&lt;tr>
&lt;th style="width: 14rem">Name&lt;/th>
&lt;th style="width: 8rem">AMD 680M&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe3&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe4&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Valley Extreme&lt;/td>
&lt;td>914&lt;/td>
&lt;td>4611&lt;/td>
&lt;td>4684&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Heaven Extreme&lt;/td>
&lt;td>747&lt;/td>
&lt;td>2845&lt;/td>
&lt;td>3342&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Superposition Medium&lt;/td>
&lt;td>4214&lt;/td>
&lt;td>13345&lt;/td>
&lt;td>16527&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Superposition High&lt;/td>
&lt;td>3172&lt;/td>
&lt;td>10532&lt;/td>
&lt;td>12130&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Superposition Extreme&lt;/td>
&lt;td>1425&lt;/td>
&lt;td>4659&lt;/td>
&lt;td>5027&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="carousel" key="unigine">
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_valley_extreme_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_valley_extreme_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_valley_extreme_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_heaven_extreme_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_heaven_extreme_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_heaven_extreme_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_medium_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_medium_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_medium_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_high_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_high_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_high_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_extreme_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_extreme_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/unigine_superposition_extreme_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-controls">
&lt;div class="carousel-button carousel-left hx-shadow">❮&lt;/div>
&lt;div class="carousel-button carousel-right hx-shadow">❯&lt;/div>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Furmark 2&lt;span class="hx-absolute -hx-mt-20" id="furmark-2">&lt;/span>
&lt;a href="#furmark-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>
&lt;table class="benchmark-table" key="furmark2" style="width: 100%">
&lt;thead>
&lt;tr>
&lt;th style="width: 14rem">Name&lt;/th>
&lt;th style="width: 8rem">AMD 680M&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe3&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe4&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Donut OpenGL&lt;/td>
&lt;td>1797&lt;/td>
&lt;td>6513&lt;/td>
&lt;td>8015&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Donut Vulkan&lt;/td>
&lt;td>1370&lt;/td>
&lt;td>6037&lt;/td>
&lt;td>7453&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Knot OpenGL&lt;/td>
&lt;td>618&lt;/td>
&lt;td>2208&lt;/td>
&lt;td>2226&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Knot Vulkan&lt;/td>
&lt;td>641&lt;/td>
&lt;td>3063&lt;/td>
&lt;td>3393&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="carousel" key="furmark2">
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_donut_gl_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_donut_gl_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_donut_gl_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_donut_vk_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_donut_vk_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_donut_vk_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_knot_gl_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_knot_gl_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_knot_gl_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-item inactive">
&lt;div class="hx-flex">
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_knot_vk_amd_680m.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_knot_vk_flex_pcb.png">
&lt;/div>
&lt;div class="responsive-image" style="width: 33%">
&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/furmark2_knot_vk_amd_5700xt.png">
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="carousel-controls">
&lt;div class="carousel-button carousel-left hx-shadow">❮&lt;/div>
&lt;div class="carousel-button carousel-right hx-shadow">❯&lt;/div>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>GPU-Z&lt;span class="hx-absolute -hx-mt-20" id="gpu-z">&lt;/span>
&lt;a href="#gpu-z" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="width: 14rem">Name&lt;/th>
&lt;th style="width: 8rem">AMD 680M&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe3&lt;/th>
&lt;th style="width: 9rem">AMD 5700XT PCIe4&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>PCIe Interface&lt;/td>
&lt;td>Gen 4.0 x 16&lt;/td>
&lt;td>Gen 3.0 x 4&lt;/td>
&lt;td>Gen 4.0 x 4&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="hx-flex">
&lt;div class="responsive-image">&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/gpuz_amd_680m.png">&lt;/div>
&lt;div class="responsive-image">&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/gpuz_flex_pcb.png">&lt;/div>
&lt;div class="responsive-image">&lt;img src="https://williamyang98.github.io/oculink_m2_adapter//images/benchmarks/gpuz_amd_5700xt.png">&lt;/div>
&lt;/div></description></item><item><title>Taper</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/open_ems/taper/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/open_ems/taper/</guid><description>
&lt;h2>Simulation setup&lt;span class="hx-absolute -hx-mt-20" id="simulation-setup">&lt;/span>
&lt;a href="#simulation-setup" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_taper_debug.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Automatically generated taper ground plane for openEMS simulation&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_taper_3d.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Automatically generated taper ground plane 3D model&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>Various geometries were auto-generated by a Python script which produced image files with different hatch configurations.&lt;/li>
&lt;li>These were then given to gerber2ems to simulate using openEMS.&lt;/li>
&lt;li>A parametric search over the width, length and overlap amount for the optimum search was performed.&lt;/li>
&lt;li>The overlap was a percentage of the length of the taper. E.g. &lt;code>[0.5, 1.0, 1.5]&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2>Parameter search&lt;span class="hx-absolute -hx-mt-20" id="parameter-search">&lt;/span>
&lt;a href="#parameter-search" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_taper_s_params.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>S-parameter results of parameterised search of taper ground plane with a hatch width of 150um&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_taper_reflectance.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Reflectance results of parameterised search of taper ground plane with a hatch width of 150um&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>The configuration with the lowest mean energy loss in our frequency range of interest (0GHz to 40GHz) was chosen.&lt;/li>
&lt;li>This was repeated for fixed width and length parameters, then for fixed width paramters, after which the optimum was then chosen.&lt;/li>
&lt;/ul>
&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_taper_s_params_overall.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>S-parameter results of parameterised search of taper ground plane across all parameters&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/openems_taper_reflectance_overall.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Reflectance results of parameterised search of taper ground plane across all parameters&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Discussion&lt;span class="hx-absolute -hx-mt-20" id="discussion">&lt;/span>
&lt;a href="#discussion" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Doesn&amp;rsquo;t simulate dielectric loss or skin effect which is important for predicting how lossy the design is, especially at higher frequencies where these effects are significant.&lt;/li>
&lt;li>Right now the gerber2ems script uses a perfect conductor as the metal material, however openEMS has &lt;a href="https://wiki.openems.de/index.php/Metal_Property.html" target="_blank" rel="noopener">ConductingSheet&lt;/a> which simulates conductivity for lossy conductors.&lt;/li>
&lt;li>Limited resolution of the openEMS simulation meant that the infinitely pointy taper could not be simulated. This probably resulted in inaccurate simulated performance at higher frequencies.&lt;/li>
&lt;/ul>
&lt;h3>Limitations&lt;span class="hx-absolute -hx-mt-20" id="limitations">&lt;/span>
&lt;a href="#limitations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>This taper is supposed to be used to transition from the transmission line on the FR4 PCB to the flexible polyimide PCB.&lt;/li>
&lt;li>The thickness of the copper layer would need to be considered, however due to bugs in the gerber2ems simulation setup it is difficult to guarantee stable/correct results when connecting the micro stripline simulation port to a 3D metal mesh.&lt;/li>
&lt;li>An accurate simulation would require adding in the FR4 stackup and polyimide stackup including the solder bridge connecting the two PCB together. This would require gerber2ems to support much more complicated stackups.&lt;/li>
&lt;li>A hatched ground plane would need to be added to simulate how the taper behaves with a hatched ground plane.&lt;/li>
&lt;/ul></description></item><item><title>Via fence</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/via_fence/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/via_fence/</guid><description>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/via_fence_diagram.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 17. Via fence&lt;/i>
&lt;/div>
&lt;/div>
&lt;h2>Crosstalk&lt;span class="hx-absolute -hx-mt-20" id="crosstalk">&lt;/span>
&lt;a href="#crosstalk" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Improves impedance of coplanar ground guard trace by stitching it to a ground plane which improves E-field confinement.&lt;/li>
&lt;li>Additional ground vias improve E-field confinement.&lt;/li>
&lt;li>Both of these contribute to significantly reducing the inter-lane crosstalk.&lt;/li>
&lt;/ul>
&lt;h2>Spacing requirements&lt;span class="hx-absolute -hx-mt-20" id="spacing-requirements">&lt;/span>
&lt;a href="#spacing-requirements" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>If spacing is incorrect it can result in worse crosstalk since fence can behave like a resonant tank.&lt;/li>
&lt;li>For a given maximum frequency which needs to be blocked, the equation is given as follows.&lt;/li>
&lt;/ul>
&lt;p>\[
\begin{align}
d_{spacing} &amp;= \frac{\lambda_{min}}{8} \\
d_{spacing} &amp;= \frac{c}{8 \sqrt{\epsilon_r} \times f_{max}}
\end{align}
\]&lt;/p>
&lt;p>For the best eye opening we should set the maximum frequency as the 5th harmonic of the PCIe fundemental frequency. The following spacing values are calculated with
\( \epsilon_r = 4.1 \)
for FR4.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Gen&lt;/th>
&lt;th>
\( f_{0} \)
(GHz)&lt;/th>
&lt;th>
\( f_{max} \)
(GHz)&lt;/th>
&lt;th>
\( d_{spacing} \)
(mm)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1.0&lt;/td>
&lt;td>1.25&lt;/td>
&lt;td>6.25&lt;/td>
&lt;td>2.96&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.0&lt;/td>
&lt;td>2.5&lt;/td>
&lt;td>12.5&lt;/td>
&lt;td>1.48&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.0&lt;/td>
&lt;td>4.0&lt;/td>
&lt;td>20&lt;/td>
&lt;td>0.93&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4.0&lt;/td>
&lt;td>8.0&lt;/td>
&lt;td>40&lt;/td>
&lt;td>0.46&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.0&lt;/td>
&lt;td>16.0&lt;/td>
&lt;td>80&lt;/td>
&lt;td>0.23&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Manufacturing limitations&lt;span class="hx-absolute -hx-mt-20" id="manufacturing-limitations">&lt;/span>
&lt;a href="#manufacturing-limitations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>JLCPCB has manufacturing constraints that limits the geometry of our via fence. The following values are chosen to minimise the manufacturing cost and therefore may not be the best values we can choose.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Via hole size&lt;/td>
&lt;td>Minimum&lt;/td>
&lt;td>0.3mm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Via hole diameter&lt;/td>
&lt;td>Minimum&lt;/td>
&lt;td>0.4mm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Via hole to different net distance&lt;/td>
&lt;td>Minimum&lt;/td>
&lt;td>0.2mm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Via hole to hole spacing&lt;/td>
&lt;td>Minimum&lt;/td>
&lt;td>0.2mm&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>Since we are targetting PCIe 4.0 our spacing requirement is 0.46mm and is within the manufacturing constraints.&lt;/li>
&lt;li>Our coplanar guard traces are placed 0.1mm away from signal traces so we only need 0.1mm of copper between the via and edge of coplanar guard trace.&lt;/li>
&lt;/ul>
&lt;h2>Resources&lt;span class="hx-absolute -hx-mt-20" id="resources">&lt;/span>
&lt;a href="#resources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/north_dakota_university_via_fencing.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Effectiveness of PCB perimeter via fencing&lt;/div>
&lt;/a>
&lt;a href="https://www.ndsu.edu/pubweb/~braaten/EMC_2016_1.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.altium.com/documentation/altium-designer/via-stitching-via-shielding-pcb" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: Adding via stitching &amp;amp; via shielding&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://hackaday.io/project/161821-journey-sbc/log/155995-rf-via-stitchingfencing-pt-2" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Hackaday: RF &amp;amp; Via Stitching/Fencing&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul></description></item><item><title>Discussion</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/results/discussion/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/results/discussion/</guid><description>
&lt;h2>Display setup&lt;span class="hx-absolute -hx-mt-20" id="display-setup">&lt;/span>
&lt;a href="#display-setup" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;pre class="mermaid hx-mt-6">sequenceDiagram;
participant eGPU
participant CPU
participant USB 4 dock
participant 1080p monitor
CPU->>eGPU: Oculink PCIe TX
eGPU->>CPU: Oculink PCIe RX
CPU->>USB 4 dock: 40Gb/s USB 4 cable
USB 4 dock->>1080p monitor: HDMI cable&lt;/pre>&lt;ul>
&lt;li>Benchmark output display is connected to a USB 4 dock (40Gb/s) and has a resolution of 1080p.&lt;/li>
&lt;li>This means Oculink PCIe connection has to be stable in both the transmit and receive direction.&lt;/li>
&lt;li>When eGPU data comes back to CPU it actually goes through the integrated AMD 680m based on copy activity in task manager.&lt;/li>
&lt;/ul>
&lt;h2>Flexible PCB and single board design&lt;span class="hx-absolute -hx-mt-20" id="flexible-pcb-and-single-board-design">&lt;/span>
&lt;a href="#flexible-pcb-and-single-board-design" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Both the flexible PCB multi-board design and single board design achieved PCIe 3.0 speeds.&lt;/li>
&lt;li>Their results across all synthetic benchmarks were identical.&lt;/li>
&lt;li>PCIe 3.0 connection was stable and bandwidth reached theoretical values.&lt;/li>
&lt;li>PCIe 4.0 could not be achieved at all.&lt;/li>
&lt;/ul>
&lt;h2>Aliexpress PCIe 4.0 adapter&lt;span class="hx-absolute -hx-mt-20" id="aliexpress-pcie-40-adapter">&lt;/span>
&lt;a href="#aliexpress-pcie-40-adapter" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>PCIe 4.0 connection was stable and bandwidth reached theoretical values.&lt;/li>
&lt;li>Performance uplift from PCIe 3.0 to PCIe 4.0 in this setup is significant.&lt;/li>
&lt;li>Bandwidth limit from eGPU to CPU limits the number of frames that can be sent to display.&lt;/li>
&lt;/ul></description></item><item><title>Electrical testing</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/manufacturing/electrical_testing/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/manufacturing/electrical_testing/</guid><description>
&lt;h2>Single board validation&lt;span class="hx-absolute -hx-mt-20" id="single-board-validation">&lt;/span>
&lt;a href="#single-board-validation" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Oculink port has a small pitch of 0.2mm which can easily create solder bridges.&lt;/li>
&lt;li>Validate this by connecting the Oculink port to the unpowered PCIe eGPU board.&lt;/li>
&lt;li>Refer to &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/specifications/components/
" >M.2 pinout&lt;/a> and &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/specifications/pcie_specification/
" >PCIe pinout&lt;/a> for the electrical connections to test for.&lt;/li>
&lt;li>Depending on the design the PCIe lanes may be connected in opposite polarity and/or in opposite orders.&lt;/li>
&lt;li>Check for short circuits and bad connections.&lt;/li>
&lt;li>Use a magnifying glass to position multimeter probes onto the exposed electrical contacts.&lt;/li>
&lt;/ul>
&lt;h2>Flexible PCB multi board design&lt;span class="hx-absolute -hx-mt-20" id="flexible-pcb-multi-board-design">&lt;/span>
&lt;a href="#flexible-pcb-multi-board-design" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Validation of flexible PCB design will be done in three passes.&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/kicad_flex_connector_render.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 14. Custom M.2 to Oculink adapter with flex connector 3D renders&lt;/i>
&lt;/div>
&lt;/div>
&lt;h3>1. Oculink port board&lt;span class="hx-absolute -hx-mt-20" id="1-oculink-port-board">&lt;/span>
&lt;a href="#1-oculink-port-board" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>After Oculink port has been soldered to PCB perform similar checks as with the single board design.&lt;/li>
&lt;li>Instead of using the M.2 connection use the exposed flexible PCB SMD pads to test for shorts or bad electrical connections.&lt;/li>
&lt;/ul>
&lt;h3>2. Flexible PCB to Oculink port&lt;span class="hx-absolute -hx-mt-20" id="2-flexible-pcb-to-oculink-port">&lt;/span>
&lt;a href="#2-flexible-pcb-to-oculink-port" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>After soldering flexible PCB to Oculink port board perform the same check but with the exposed flexible PCB pads on the M.2 side of the flexible PCB.&lt;/li>
&lt;li>Perform visual checks of the flexible PCB at the soldered connection. Since the polyimide is translucent it is possible to detect solder bridges.&lt;/li>
&lt;li>If there are any shorts or bad connections they are likely isolated to the flexible PCB connection since we have already verified the Oculink port itself.&lt;/li>
&lt;/ul>
&lt;h3>3. Flexible PCB to M.2 port&lt;span class="hx-absolute -hx-mt-20" id="3-flexible-pcb-to-m2-port">&lt;/span>
&lt;a href="#3-flexible-pcb-to-m2-port" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>After soldering flexible PCB to M.2 card perform same check as with the single board design.&lt;/li>
&lt;li>Perform visual checks of the flexible PCB at the soldered connection. Since the polyimide is translucent it is possible to detect solder bridges.&lt;/li>
&lt;li>If there are any shorts or bad connections they are likely isolated to the flexible PCB connection on the M.2 card side.&lt;/li>
&lt;li>Due to steps 1 and 2 the Oculink port and flexible PCB connection on the Oculink board side are verified.&lt;/li>
&lt;/ul></description></item><item><title>KiCAD &amp; JLCPCB</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/kicad_jlcpcb/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/kicad_jlcpcb/</guid><description>
&lt;h2>Reasons to use KiCAD&lt;span class="hx-absolute -hx-mt-20" id="reasons-to-use-kicad">&lt;/span>
&lt;a href="#reasons-to-use-kicad" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Free and open source. No license required for usage.&lt;/li>
&lt;li>More than adequate for passive M.2 to Oculink adapter.&lt;/li>
&lt;li>Transmission line calculators are limited but there are plenty of more capable free and public options.&lt;/li>
&lt;li>Lacks high end simulation capabilities like Altium but open source substitutes are available.&lt;/li>
&lt;/ul>
&lt;h2>Reasons to use JLCPCB&lt;span class="hx-absolute -hx-mt-20" id="reasons-to-use-jlcpcb">&lt;/span>
&lt;a href="#reasons-to-use-jlcpcb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>The cheapest PCB manufacturer.&lt;/li>
&lt;li>Offers plenty of discounts for extremely low prices.&lt;/li>
&lt;li>If you stay under certain size requirements the cost will remain exceptionally low.&lt;/li>
&lt;li>Inexpensive 0.8mm thick stackup which is required for M.2 edge connector.
&lt;ul>
&lt;li>Only requires lead free HASL to be the mandatory surface finish which costs $4.80USD.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Inexpensive board cost if certain size thresholds aren&amp;rsquo;t exceeded.
&lt;ul>
&lt;li>For boards less than 50mm x 50mm board cost is only $2.00USD.&lt;/li>
&lt;li>For boards between 50mm x 50mm and 100mm x 100mm the board cost is $7.00USD.&lt;/li>
&lt;li>For boards above 100mm x 100mm there is an aditional engineering fee which costs $24.00USD.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Inexpensive 4 layer boards which are important for maintaining solid ground plane if signal traces need to be routed on separate layers.&lt;/li>
&lt;li>Controlled impedance stackup to meet transmission line design requirements.&lt;/li>
&lt;li>Allows choosing denser more uniform fibre weaves to improve signal integrity in transmission lines.
&lt;ul>
&lt;li>A non-uniform weave could cause problems if a differential trace were routed over it.&lt;/li>
&lt;li>Each side of the pair could be on a piece of the weave with different densities of fibres.&lt;/li>
&lt;li>This would mean each trace in the pair experiences a different dielectric constant.&lt;/li>
&lt;li>Since the speed of propagation is dependent on the dielectric constant, a skew in the time domain would be induced in the differential pair.&lt;/li>
&lt;li>PCIe standard has relatively&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ENIG (gold plating) to prevent oxidation of M.2 edge connector and flatter profile for more reliable reflow soldering.&lt;/li>
&lt;li>Flexible PCBs for designs that require large amounts of vertical routing.&lt;/li>
&lt;li>Very generous constraints minimum via sizes and pad pitch which is important for high frequency design where physical dimensions of traces, vias, and connector pitch can get very small.&lt;/li>
&lt;/ul>
&lt;h2>Importing design constraints into KiCAD&lt;span class="hx-absolute -hx-mt-20" id="importing-design-constraints-into-kicad">&lt;/span>
&lt;a href="#importing-design-constraints-into-kicad" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>JLCPCB specifies manufacturing capabilities.&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://jlcpcb.com/capabilities/pcb-capabilities" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>JLCPCB manufacturing capabilities&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>The values for certain constraints will vary depending on options you select for the number of layers, minimum via size and stackup type.&lt;/li>
&lt;li>KiCAD supports creating a design rules file to automatically check these manufacturing constraints to prevent submitting unmanufacturable designs to a fabricator.&lt;/li>
&lt;li>The design rules checker (DRC) can be triggered manually or is run automatically before generating gerber and drill files.&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://github.com/williamyang98/oculink_m2_adapter/blob/895a01a6bca91c96aabc5325dedf5facfeb502c6/kicad/oculink_m2_single/oculink_m2.kicad_dru" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Sample KiCAD design rules file&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h2>Generating gerber and drill files&lt;span class="hx-absolute -hx-mt-20" id="generating-gerber-and-drill-files">&lt;/span>
&lt;a href="#generating-gerber-and-drill-files" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Gerber and drill files must match what the fabricator expects.&lt;/li>
&lt;li>JLCPCB specifies instructions for KiCAD 7.0 as well as other versions.&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/jlcpcb_kicad_7_generate_gerber_and_drill_files.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">JLCPCB instructions to generate KiCAD 7 gerber and drill files&lt;/div>
&lt;/a>
&lt;a href="https://jlcpcb.com/help/article/how-to-generate-gerber-and-drill-files-in-kicad-7">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>Verify output through local gerber viewer program before submitting.&lt;/li>
&lt;li>Final verification in JLCPCB online gerber viewer after uploading design.&lt;/li>
&lt;/ul></description></item><item><title>Via jumps</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/via_jumps/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/via_jumps/</guid><description>
&lt;ul>
&lt;li>Via jumps are necessary if a transmission line needs to switch lanes.&lt;/li>
&lt;li>In order to avoid signal reflections the characteristic impedance of the transmission line needs to remain constant when traversing from between layers through a via.&lt;/li>
&lt;/ul>
&lt;h2>Coaxial via&lt;span class="hx-absolute -hx-mt-20" id="coaxial-via">&lt;/span>
&lt;a href="#coaxial-via" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/via_jump_diagram.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 18. Via jump with current path (red/blue) and E-field (yellow)&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>If there are no nearby grounding vias then a distant current return path is used which results in a significant impedance mismatch.&lt;/li>
&lt;li>Instead we add nearby grounding vias to provide a current return path.&lt;/li>
&lt;li>This type of via structure is called a coaxial via.&lt;/li>
&lt;li>The following parameters are important when trying to control the impedance of a coaxial via:
&lt;ul>
&lt;li>Distance of ground vias from signal via.&lt;/li>
&lt;li>Number of ground vias around the signal via.&lt;/li>
&lt;li>Hole size of the ground via and signal via.&lt;/li>
&lt;li>Dielectric material used to fill the vias.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2>Teardrop taper&lt;span class="hx-absolute -hx-mt-20" id="teardrop-taper">&lt;/span>
&lt;a href="#teardrop-taper" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/via_jump_pcb.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 19. Via jump design with teardrop taper&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>When a signal trace goes through a via there is an impedance discontinuity especially if the trace width and via diameter are different.&lt;/li>
&lt;li>Adjusting the following can reduce the impedance discontinuity:
&lt;ul>
&lt;li>Adding a teardrop taper to match trace width to via diameter.&lt;/li>
&lt;li>Adjusting the via annular diameter.&lt;/li>
&lt;li>Adjusting the via hole size.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2>Determining parameters&lt;span class="hx-absolute -hx-mt-20" id="determining-parameters">&lt;/span>
&lt;a href="#determining-parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>There is no closed form equation for the impedance of a coaxial via with a teardrop taper.&lt;/li>
&lt;li>This means running a parametric search through a simulation to determine the optimal parameter values.&lt;/li>
&lt;li>Very difficult to do given the number of parameters for the coaxial via and teardrop taper which all impact performance.&lt;/li>
&lt;li>Refer to this section about simulating circuits with &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/openEMS
" >openEMS&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h2>Via stubs&lt;span class="hx-absolute -hx-mt-20" id="via-stubs">&lt;/span>
&lt;a href="#via-stubs" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/sierra_express_via_stub_back_drilling.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 20. Via stub back drilling&lt;/i>
&lt;a href="https://www.protoexpress.com/blog/back-drilling-pcb-design-and-manufacturing/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>If via jump isn&amp;rsquo;t between the top and bottom layers then there will be a stub segment in the via.&lt;/li>
&lt;li>This will have the most signficant impact at the following frequency:&lt;/li>
&lt;/ul>
&lt;p>\[
f_0 = \frac{c}{4 \sqrt{\epsilon_r} \times d_{stub}}
\]&lt;/p>
&lt;ul>
&lt;li>Actual performance degradation happens well before this frequency.&lt;/li>
&lt;li>By decreasing
\( d_{stub} \)
we can increase
\( f_0 \)
well past our maximum design frequency and avoid problems.&lt;/li>
&lt;li>If the via stub is sufficiently short then it will not have a noticeable impact on signal integrity below our maximum design frequency.&lt;/li>
&lt;/ul>
&lt;h2>Buried, blind and through hole vias&lt;span class="hx-absolute -hx-mt-20" id="buried-blind-and-through-hole-vias">&lt;/span>
&lt;a href="#buried-blind-and-through-hole-vias" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/jlcpcb_what_is_pcb_via.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 21. Buried, blind and through hole vias&lt;/i>
&lt;a href="https://jlcpcb.com/blog/what-is-pcb-via">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Buried and blind vias can be used to avoid via stubs.&lt;/li>
&lt;li>These types of vias can be manufactured using a technique called backdrilling.&lt;/li>
&lt;li>However JLCPCB only supports through hole vias.&lt;/li>
&lt;/ul>
&lt;h2>Resources&lt;span class="hx-absolute -hx-mt-20" id="resources">&lt;/span>
&lt;a href="#resources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.protoexpress.com/blog/how-via-impedance-impacts-signal-integrity-in-pcbs/" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Sierra Circuits: Coaxial via geometry&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://blog.samtec.com/post/via-stubs-practical-strategies-to-mitigate-return-loss/" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Samtec blog: Practical strategies to mitigate return loss from via stubs&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.altium.com/p/backdrill-it-baby-how-to-reduce-signal-distortions-on-your-pcb" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: Stubs and backdrilling in high speed design&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul></description></item><item><title>Single board design</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/single_board/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/single_board/</guid><description>
&lt;h2>Images&lt;span class="hx-absolute -hx-mt-20" id="images">&lt;/span>
&lt;a href="#images" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/kicad_single_board_pcb.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 11. Custom single board M.2 to Oculink adapter PCB&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/kicad_single_board_render.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 12. Custom single board M.2 to Oculink adapter 3D render&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Advantages&lt;span class="hx-absolute -hx-mt-20" id="advantages">&lt;/span>
&lt;a href="#advantages" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Simpler design&lt;span class="hx-absolute -hx-mt-20" id="simpler-design">&lt;/span>
&lt;a href="#simpler-design" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>Easier manufacturing and testing since we only need to solder the Oculink port and passive components.&lt;/li>
&lt;li>Single KiCAD schematic required allowing for easier design inside single project.&lt;/li>
&lt;li>Requires only a single transmission line to be designed reducing design complexity.&lt;/li>
&lt;/ul>
&lt;h3>More reliable performance&lt;span class="hx-absolute -hx-mt-20" id="more-reliable-performance">&lt;/span>
&lt;a href="#more-reliable-performance" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>Having multiple boards connected over a flexible PCB adds additional potential impedance discontinuities.&lt;/li>
&lt;li>Without equipment to verify performance at PCIe 3.0+ frequencies it is difficult to validate performance.&lt;/li>
&lt;li>Introducing fewer design uncertainties will make final performance more likely to align with calculations.&lt;/li>
&lt;/ul>
&lt;h2>Disadvantages&lt;span class="hx-absolute -hx-mt-20" id="disadvantages">&lt;/span>
&lt;a href="#disadvantages" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Narrow routing resulting in layer transition&lt;span class="hx-absolute -hx-mt-20" id="narrow-routing-resulting-in-layer-transition">&lt;/span>
&lt;a href="#narrow-routing-resulting-in-layer-transition" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>PCIe signal lanes have to fit through a very narrow region which requires routing differential pairs onto other layers.&lt;/p>
&lt;ul>
&lt;li>Requires careful design of via jumps to prevent impedance mismatch and signal reflection.&lt;/li>
&lt;li>PCIe RX lanes have 1 via jump and PCIe TX lanes have 2 via jumps.&lt;/li>
&lt;li>Each additional via jump will worsen signal integrity so having 2 is unideal.&lt;/li>
&lt;/ul>
&lt;h3>Port location and bending&lt;span class="hx-absolute -hx-mt-20" id="port-location-and-bending">&lt;/span>
&lt;a href="#port-location-and-bending" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Board has to be slightly bent so that Oculink port is at the correct height with laptop chassis.&lt;/p>
&lt;ul>
&lt;li>Might result in damage to circuit if the board isn&amp;rsquo;t flexible enough.&lt;/li>
&lt;li>Could result in degraded transmission line performance due to stretching of traces and introduction of inter-pair skew in differential pairs.&lt;/li>
&lt;li>Could result in Oculink port pad connection breaking due to uneven mechanical stress.&lt;/li>
&lt;/ul>
&lt;h3>Long distance routing&lt;span class="hx-absolute -hx-mt-20" id="long-distance-routing">&lt;/span>
&lt;a href="#long-distance-routing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>PCIe lanes have to be routed over a moderately long distance (12cm).&lt;/p>
&lt;ul>
&lt;li>We are using FR4-TG135 which has a high dielectric loss at high frequencies.&lt;/li>
&lt;li>If we are targetting PCIe 4.0 then we need to handle the 5th harmonic of the fundemental frequency which is 40GHz.&lt;/li>
&lt;li>It is highly unlikely to maintain PCIe 4.0 over such a long distance with a high loss dielectric.&lt;/li>
&lt;/ul>
&lt;h3>Large size&lt;span class="hx-absolute -hx-mt-20" id="large-size">&lt;/span>
&lt;a href="#large-size" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Single board design is relatively large.&lt;/p>
&lt;ul>
&lt;li>M.2 slot requires 0.8mm thickness which results in mandatory lead free HASL that costs $4.80USD.&lt;/li>
&lt;li>Exceeds 50mm x 50mm threshold meaning board goes from $2.00USD to $7.00USD.&lt;/li>
&lt;li>Exceeds 100mm x 100mm threshold meaning additional engineering fee of $24.00USD.&lt;/li>
&lt;li>Overall cost of $35.80USD.&lt;/li>
&lt;/ul></description></item><item><title>Skin effect</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/skin_effect/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/skin_effect/</guid><description>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/copper_roughness_skin_effect.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 22. Visualisation of skin effect on rough conductive surfaces&lt;/i>
&lt;a href="https://industrial.evidentscientific.com.cn/en/applications/copper-foil-surface-roughness-for-5g-printed-circuit-boards/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Skin effect is when the signal current is expelled to the surface of the conductor at high frequencies.&lt;/li>
&lt;li>With a rough copper finish, skin effect can result in higher trace impedance which can result in:
&lt;ul>
&lt;li>Signal loss through resistive losses.&lt;/li>
&lt;li>Impedance mismatch and signal reflections.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://industrial.evidentscientific.com.cn/en/applications/copper-foil-surface-roughness-for-5g-printed-circuit-boards/" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Evident Scientific: Copper foil surface roughness for 5G PCBs&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h2>Increasing trace width&lt;span class="hx-absolute -hx-mt-20" id="increasing-trace-width">&lt;/span>
&lt;a href="#increasing-trace-width" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Use wider tranmission line signal traces to improve impedance and therefore signal integrity at higher frequencies.&lt;/li>
&lt;li>Comes at the cost of worse impedance matching at lower frequencies.&lt;/li>
&lt;li>Signal losses generally occur at higher frequencies (via jumps, tapered transitions, skin effect, insertion loss, dielectric loss).&lt;/li>
&lt;li>Therefore to achieve best performance over the entire bandwidth we should increase transmission line width to mitigate skin effect at higher frequencies.&lt;/li>
&lt;/ul>
&lt;h2>Copper finish&lt;span class="hx-absolute -hx-mt-20" id="copper-finish">&lt;/span>
&lt;a href="#copper-finish" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>PCB manufacturers have a variety of copper foil types to use if you need a smoother surface to avoid skin effect.&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.altium.com/p/types-pcb-copper-foil-high-frequency-design" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: Types of PCB copper foils for high frequency design&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.altium.com/p/copper-choice-and-copper-efficiency-high-frequency-pcb-design" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: Copper choice and efficiency for high frequency PCB design&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Type of copper foil&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Roughness&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Electrodeposited&lt;/td>
&lt;td>Has a rougher surface on one side of the copper foil&lt;/td>
&lt;td>Highest (above 1 um)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Reverse treated&lt;/td>
&lt;td>Uses a surface treatment to reduce roughness&lt;/td>
&lt;td>Moderate (0.5 um to 1.5 um)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Rolled-annealed&lt;/td>
&lt;td>Has a smoother, denser surface from a rolling process&lt;/td>
&lt;td>Low (0.25 to 0.5 um)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ultra-low profile&lt;/td>
&lt;td>Additional treatments are used to reduce roughness&lt;/td>
&lt;td>Lowest (comparable to rolled annealed, but can be less than 0.3 um)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>Unfortunately JLCPCB doesn&amp;rsquo;t allow you to select the type of copper foil.&lt;/li>
&lt;/ul></description></item><item><title>Conclusion</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/conclusion/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/conclusion/</guid><description>
&lt;h2>DIY or Buy?&lt;span class="hx-absolute -hx-mt-20" id="diy-or-buy">&lt;/span>
&lt;a href="#diy-or-buy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>DIY&lt;span class="hx-absolute -hx-mt-20" id="diy">&lt;/span>
&lt;a href="#diy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="width: 50%">Advantages&lt;/th>
&lt;th style="width: 50%">Disadvantages&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="vertical-align: text-top">
&lt;ul>
&lt;li>Can reach PCIe 3.0 speeds&lt;/li>
&lt;li>Can be designed to fit in any enclosure&lt;/li>
&lt;li>Cheaper per-unit cost&lt;/li>
&lt;li>Can be modified with different connector (MCIO)&lt;/li>
&lt;/ul>
&lt;/td>
&lt;td style="vertical-align: text-top">
&lt;ul>
&lt;li>Cannot reach PCIe 4.0 speeds&lt;/li>
&lt;li>Significant performance loss in synthetic benchmarks&lt;/li>
&lt;li>Expensive to manufacture when considering minimum order quantity of PCBs and components and soldering equipment&lt;/li>
&lt;li>Time consuming to manufacture especially including electrical testing&lt;/li>
&lt;li>Unclear if design needs overhaul to reach PCIe 4.0 without having equipment to test circuit at PCIe 4.0 speeds&lt;/li>
&lt;/ul>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Buy&lt;span class="hx-absolute -hx-mt-20" id="buy">&lt;/span>
&lt;a href="#buy" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="width: 50%">Advantages&lt;/th>
&lt;th style="width: 50%">Disadvantages&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="vertical-align: text-top">
&lt;ul>
&lt;li>Can reach PCIe 4.0 speeds&lt;/li>
&lt;li>Beats PCIe 3.0 adapters in synthetic benchmarks&lt;/li>
&lt;li>Flexible micro-coax can be bent to fit most scenarios&lt;/li>
&lt;li>Cost is low considering performance and quality of adapter&lt;/li>
&lt;/ul>
&lt;/td>
&lt;td style="vertical-align: text-top">
&lt;ul>
&lt;li>Minimum length of adapter is 12cm which might make it too long even with bending&lt;/li>
&lt;/ul>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Conclusion&lt;span class="hx-absolute -hx-mt-20" id="conclusion">&lt;/span>
&lt;a href="#conclusion" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/aliexpress_m2_oculink_pcie4_extension.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Aliexpress M.2 Oculink PCIe 4.0 silver plated extension cable&lt;/i>
&lt;a href="https://www.aliexpress.com/item/1005007486714630.html">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>&lt;strong>Buying&lt;/strong> the Aliexpress M.2 Oculink PCIe 4.0 adapter is the much more sensible option.&lt;/li>
&lt;li>It works out of the box and requires minimal bending to fit into your enclosure.&lt;/li>
&lt;li>Also comes in a variety of lengths: &lt;code>[15cm, 20cm, 25cm, 30cm, 40cm]&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2>Future plans&lt;span class="hx-absolute -hx-mt-20" id="future-plans">&lt;/span>
&lt;a href="#future-plans" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Check mini cool edge IO (MCIO) connector:
&lt;ul>
&lt;li>Has a better official number of insertion cycles.&lt;/li>
&lt;li>Cables are designed officially for PCIe 4.0 speeds.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Fix performance problems and see if PCIe 4.0 speeds can be reached.
&lt;ul>
&lt;li>Redesign hatch plane and taper in flexible PCB design.&lt;/li>
&lt;li>Use a low loss dielectric to reduce dielectric losses at PCIe 4.0 speeds.&lt;/li>
&lt;li>Use smooth copper foil to reduce skin effect losses.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Determine if there is a method to cheaply verify performance at PCIe 4.0 speeds.
&lt;ul>
&lt;li>High frequency oscilloscopes (&amp;gt;20GHz) required for PCIe testing are extremely expensive.&lt;/li>
&lt;li>Most low cost (&amp;lt;$1000) and low frequency (&amp;lt;200MHz) oscilloscopes are not useful for validating PCIe peformance.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>Flex connector design</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/flex_pcb/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/flex_pcb/</guid><description>
&lt;h2>Images&lt;span class="hx-absolute -hx-mt-20" id="images">&lt;/span>
&lt;a href="#images" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/kicad_flex_connector_pcb.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 13. Custom M.2 to Oculink adapter with flex connector PCBs&lt;/i>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/kicad_flex_connector_render.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 14. Custom M.2 to Oculink adapter with flex connector 3D renders&lt;/i>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Advantages&lt;span class="hx-absolute -hx-mt-20" id="advantages">&lt;/span>
&lt;a href="#advantages" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Benefits of vertical routing&lt;span class="hx-absolute -hx-mt-20" id="benefits-of-vertical-routing">&lt;/span>
&lt;a href="#benefits-of-vertical-routing" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>Vertical routing under M.2 2280 slot has a much wider room.&lt;/li>
&lt;li>Removes requirement to move high frequency PCIe signal traces onto a different layer.
&lt;ul>
&lt;li>Avoiding additional via jumps which results in better signal integrity.&lt;/li>
&lt;li>PCIe lanes for both RX and TX have 1 via jump.&lt;/li>
&lt;li>This is an improvement for TX lanes over the single board design which have 2 via jumps.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Allows adjustment of height offset of Oculink port for ideal positioning against side of laptop chassis.&lt;/li>
&lt;/ul>
&lt;h3>Benefits of flexible PCB connection&lt;span class="hx-absolute -hx-mt-20" id="benefits-of-flexible-pcb-connection">&lt;/span>
&lt;a href="#benefits-of-flexible-pcb-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Flex PCB is designed to bend unlike a fibre glass core which prevents possible damage.&lt;/p>
&lt;ul>
&lt;li>Oculink port is on separate board which doesn&amp;rsquo;t have to bend avoiding any possible mechanical damage to the SMD pad connections.&lt;/li>
&lt;li>Allows for more flexible positioning of the Oculink port if there is some error in the measurements.&lt;/li>
&lt;/ul>
&lt;h3>Polyimide dielectric&lt;span class="hx-absolute -hx-mt-20" id="polyimide-dielectric">&lt;/span>
&lt;a href="#polyimide-dielectric" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Flex PCB uses a polyimide core which potentially could have a low dielectric loss.&lt;/p>
&lt;ul>
&lt;li>Overall length of PCIe lanes is the same but majority is over the lower dielectric loss polyimide.&lt;/li>
&lt;li>Could improve signal integrity however this is difficult to verify without proper equipment.&lt;/li>
&lt;/ul>
&lt;h3>Flexibility of design&lt;span class="hx-absolute -hx-mt-20" id="flexibility-of-design">&lt;/span>
&lt;a href="#flexibility-of-design" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Easier redesign if future changes need to be made.&lt;/p>
&lt;ul>
&lt;li>M.2 card board can be kept constant.&lt;/li>
&lt;li>Flex connector can be easily redesigned and cheaply made.&lt;/li>
&lt;li>Port board can be swapped if Oculink port is damaged.&lt;/li>
&lt;li>Port board can be re-engineered to use a different PCIe compatible port like MCIO.&lt;/li>
&lt;/ul>
&lt;h3>Lower manufacturing cost.&lt;span class="hx-absolute -hx-mt-20" id="lower-manufacturing-cost">&lt;/span>
&lt;a href="#lower-manufacturing-cost" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Cheaper overall manufacturing compared to single board design (using JLCPCB).&lt;/p>
&lt;ul>
&lt;li>M.2 card is only 22mm x 42mm which is under 50mm x 50mm threshold resulting in $2.00USD board cost.&lt;/li>
&lt;li>M.2 card is 0.8mm which means mandatory lead free HASL that costs $4.80USD.&lt;/li>
&lt;li>Oculink port board is only 21mm x 87mm which is under the 100mm x 100mm threshold meaning no additional engineering fee.&lt;/li>
&lt;li>Oculink port board exceed 50mm x 50mm threshold which means board cost of $7.00USD.&lt;/li>
&lt;li>Oculink port board can be manufactured on a stackup thicker than 0.8mm enabling HASL with lead which is free.&lt;/li>
&lt;li>Flexible PCB connector can be manufactured at $2.00USD.&lt;/li>
&lt;li>Overall cost of $15.80USD.&lt;/li>
&lt;/ul>
&lt;h2>Disadvantages&lt;span class="hx-absolute -hx-mt-20" id="disadvantages">&lt;/span>
&lt;a href="#disadvantages" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Variability in polyimide properties&lt;span class="hx-absolute -hx-mt-20" id="variability-in-polyimide-properties">&lt;/span>
&lt;a href="#variability-in-polyimide-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Flex PCB polyimide material comes in several varieties.&lt;/p>
&lt;ul>
&lt;li>No guarantee that the polyimide used is a low dielectric loss formulation.&lt;/li>
&lt;li>JLCPCB datasheet for their polyimide supplier shows a dielectric loss which is still substantial.&lt;/li>
&lt;li>Due to thinner stackup the electric field strength is significantly higher over a thicker stackup on FR4.&lt;/li>
&lt;li>This high E-field magnitude can result in even greater dielectric losses.&lt;/li>
&lt;li>If this isn&amp;rsquo;t offset by a low loss polyimide dielectric then the flex pcb may perform much worse than routing on FR4.&lt;/li>
&lt;/ul>
&lt;h3>Transitioning transmission line geometry&lt;span class="hx-absolute -hx-mt-20" id="transitioning-transmission-line-geometry">&lt;/span>
&lt;a href="#transitioning-transmission-line-geometry" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Flex pcb requires handling transition of transmission line from FR4 stackup to flex PCB stackup.&lt;/p>
&lt;ul>
&lt;li>Requires careful design to avoid impedance discontinuities at flex PCB connection.&lt;/li>
&lt;li>Involves designing transmission line tapers to maintain impedance target across connector transition.&lt;/li>
&lt;li>&lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/transmission_line
" >Transmission line design&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>Transmission line design on flex pcb&lt;span class="hx-absolute -hx-mt-20" id="transmission-line-design-on-flex-pcb">&lt;/span>
&lt;a href="#transmission-line-design-on-flex-pcb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Flex pcb has a very thin dielectric core for easy bending.&lt;/p>
&lt;ul>
&lt;li>Thin dielectric means transmission line needs to be designed with extremely thin traces.&lt;/li>
&lt;li>Calculations with a solid ground plane puts trace width at &amp;lt; 0.05mm which is not manufacturable.&lt;/li>
&lt;li>Requires using a hatched ground plane to achieve target impedance at manufacturable 0.1mm trace width.&lt;/li>
&lt;li>Hatched ground plane needs very careful design considerations and is not trivial to design.&lt;/li>
&lt;li>&lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/hatched_ground_plane
" >Hatched ground plane design&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>Design and manufacturing complexity&lt;span class="hx-absolute -hx-mt-20" id="design-and-manufacturing-complexity">&lt;/span>
&lt;a href="#design-and-manufacturing-complexity" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Additional complexity due to multiple boards.&lt;/p>
&lt;ul>
&lt;li>More difficult manufacturing and electrical testing due to additional soldering steps for flex connector.&lt;/li>
&lt;li>More difficult design since KiCAD doesn&amp;rsquo;t support multi-board designs necessitating multiple projects.&lt;/li>
&lt;li>Requires a more complicated project layout to support sharing of common resources like the flex connector footprint.&lt;/li>
&lt;li>Requires careful design to make sure design changes are reflected across all 3 board designs (M.2 card, flex connector, Oculink port board) to avoid miswiring.&lt;/li>
&lt;/ul>
&lt;h3>Potential EMI issues&lt;span class="hx-absolute -hx-mt-20" id="potential-emi-issues">&lt;/span>
&lt;a href="#potential-emi-issues" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>Use of hatched ground plane instead of solid ground plane in flexible connector results in worse shielding at higher frequencies determined by hatch gap size.&lt;/li>
&lt;li>Since flexible pcb is routed underneath a PCIe 4.0 x 4 SSD in the M.2 2280 slot it could mean the Oculink connection will interfere with the SSD.&lt;/li>
&lt;li>Not that likely interference will be significant since the SSD also has it&amp;rsquo;s own internal solid ground plane which should shield EMI between SSD and Oculink connection.&lt;/li>
&lt;/ul>
&lt;h3>Potential safety issue&lt;span class="hx-absolute -hx-mt-20" id="potential-safety-issue">&lt;/span>
&lt;a href="#potential-safety-issue" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>Flexible PCB is routed over the battery pack. In the event of a short in the Oculink connection the battery pack could be damaged and possibly ignite.&lt;/li>
&lt;li>Not that likely since PCIe connection carries low power signals and 3.3V rail isn&amp;rsquo;t used to deliver any signficant amount of power to the eGPU dock.&lt;/li>
&lt;/ul></description></item><item><title>Skew requirements</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/skew_requirements/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/skew_requirements/</guid><description>
&lt;p>The PCIe standard specifies several requirements for differential pair skew.&lt;/p>
&lt;h2>Inter-pair skew (between lanes)&lt;span class="hx-absolute -hx-mt-20" id="inter-pair-skew-between-lanes">&lt;/span>
&lt;a href="#inter-pair-skew-between-lanes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Inter-pair skew is usually not specified but has a lower bound of 1ns for PCIe 4.0.&lt;/p>
&lt;ul>
&lt;li>Assuming a propagation speed of 0.6c, the inter-pair skew is around 20cm.&lt;/li>
&lt;li>Since this is such a large value the inter-pair skew requirement is difficult to violate.&lt;/li>
&lt;li>The reason for this is because the PCIe standard states that transceivers have to do symbol synchronisation.&lt;/li>
&lt;li>Usually done with a buffer which usually can store around 20 symbols for each lane.&lt;/li>
&lt;li>For PCIe 4.0 at a transfer rate of 16GT/s, 20 symbols have a duration of 1.25ns.&lt;/li>
&lt;/ul>
&lt;h2>Intra-pair skew (within lane)&lt;span class="hx-absolute -hx-mt-20" id="intra-pair-skew-within-lane">&lt;/span>
&lt;a href="#intra-pair-skew-within-lane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Intra-pair skew must be less than 5 mils (0.127mm) which is rather small margin of error.
The following are phenomena that can contribute to intra-pair skew and methods to mitigate them.&lt;/p>
&lt;h3>Bends in transmission line&lt;span class="hx-absolute -hx-mt-20" id="bends-in-transmission-line">&lt;/span>
&lt;a href="#bends-in-transmission-line" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/sierra_express_length_matching.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 23. Techniques to length match differential pair&lt;/i>
&lt;a href="https://www.protoexpress.com/blog/signal-propagation-delay-pcb/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Bending causes the lengths of differential traces to become shorter and longer resulting in skew.&lt;/li>
&lt;li>Can be avoided by keeping bends short so local skew error is below 5 mils.&lt;/li>
&lt;li>If skew error is too large than it should be immediately corrected near the bend by adding serpentine bends for the shorter side of the differential pair.&lt;/li>
&lt;li>KiCAD can automatically do this using their skew correction tool.&lt;/li>
&lt;/ul>
&lt;h3>Fibre weave effect&lt;span class="hx-absolute -hx-mt-20" id="fibre-weave-effect">&lt;/span>
&lt;a href="#fibre-weave-effect" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/fibre_weave_skew_time_domain.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 24. Asymmetric routing over fibre-weave can produce intra-pair skew&lt;/i>
&lt;a href="https://www.signalintegrityjournal.com/articles/2459-beware-of-the-skew-budget-how-fiber-weave-effect-can-affect-your-high-speed-design">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/fibre_weave_skew_eye_diagram.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 25. Asymmetric routing over fibre-weave will degrade eye opening&lt;/i>
&lt;a href="https://www.signalintegrityjournal.com/articles/2459-beware-of-the-skew-budget-how-fiber-weave-effect-can-affect-your-high-speed-design">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.signalintegrityjournal.com/articles/2459-beware-of-the-skew-budget-how-fiber-weave-effect-can-affect-your-high-speed-design" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Signal integrity: Beware of the skew budget with fibre weave effect&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.pcb.cadence.com/blog/2019-the-fiber-weave-effect-skew-losses-and-resonance" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Cadence: The fibre weave effect, skew, losses and resonance&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>A poor choice of a dielectric with a non-uniform fibre weave pattern can result in large intra-pair skews.&lt;/li>
&lt;li>There is also no method of designing the circuit around a bad fibre weave since the manufacturer cannot position the weave at a specific offset.&lt;/li>
&lt;/ul>
&lt;h4>Better fibre weave patterns&lt;span class="hx-absolute -hx-mt-20" id="better-fibre-weave-patterns">&lt;/span>
&lt;a href="#better-fibre-weave-patterns" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/fibre_weave_patterns.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 26. Fibre weave patterns that are available from manufacturers&lt;/i>
&lt;a href="https://resources.pcb.cadence.com/blog/2019-the-fiber-weave-effect-skew-losses-and-resonance">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/altium_fibre_weave_flattened.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 27. Mechnically compressed fibre glass with flattened weave pattern&lt;/i>
&lt;a href="https://resources.altium.com/p/how-the-fiber-weave-effect-influences-high-frequency-signal-integrity">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>There should be careful selection of an appropriate fibre weave pattern for maximum uniformity.&lt;/li>
&lt;li>Additionally there is also mechanically compressed fibre glass which flattens the weave and fills in any gaps to produce a uniform weave pattern.&lt;/li>
&lt;li>Here is a pdf from Isola group who are a copper clad laminate and prepreg materials manufacturer.
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/isola_group_fibre_weave_patterns.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Isola group: Fibre weave patterns&lt;/div>
&lt;/a>
&lt;a href="https://www.isola-group.com/wp-content/uploads/Understanding-Laminate-Prepreg-Manufacturing.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>It contains various high quality images of fibre weave patterns and their fill factor measurements.&lt;/li>
&lt;li>They also include treatment processes for bonding the prepreg and core to copper layers and how that effects the copper smoothness which is relevant for &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/transmission_line/skin_effect
" >skin effect&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4>JLCPCB controlled impedance stackup&lt;span class="hx-absolute -hx-mt-20" id="jlcpcb-controlled-impedance-stackup">&lt;/span>
&lt;a href="#jlcpcb-controlled-impedance-stackup" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/jlcpcb_controlled_impedance_stackup_weave_patterns.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 28. JLCPCB fibre glass weave patterns for controlled impedance stackups&lt;/i>
&lt;a href="https://jlcpcb.com/impedance">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>JLCPCB offers a variety of fibre weave patterns when a multilayer controlled impedance stackup is requested (this is also free).&lt;/li>
&lt;li>It is also possible to stack two or more fibre weaves vertically to increase overall density and improve uniformity.&lt;/li>
&lt;/ul>
&lt;h3>Hatched ground plane&lt;span class="hx-absolute -hx-mt-20" id="hatched-ground-plane">&lt;/span>
&lt;a href="#hatched-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/hatched_ground_plane_unbalanced.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 29. Balanced and unbalanced routing of differential pair over hatched ground plane&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>For hatched ground planes in a flexible pcb design asymmetric routing can produce large intra-pair skews.&lt;/li>
&lt;li>For straight transmission line routes it is trivial to route the differential pair symmetrically.&lt;/li>
&lt;li>However if the transmission line needs to bend then the hatched ground plane needs to warp to avoid introducing skew.&lt;/li>
&lt;li>This is exceptionally difficult to do with KiCAD&amp;rsquo;s built in hatched ground fill tool.&lt;/li>
&lt;li>Requires manual layout and distortion of hatched ground plane to accomodate bends in a differential pair.&lt;/li>
&lt;/ul>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/hatched_ground_plane_manual_differential_bend.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 30. Manually warped hatched ground plane with differential pair bend&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Unfortunately KiCAD&amp;rsquo;s built in skew correction tools cannot measure skew for hatched ground planes generated manually or automatically by their ground fill tool.&lt;/li>
&lt;li>This makes verification of the intra-lane skew extremely difficult at the design stage.&lt;/li>
&lt;/ul></description></item><item><title>Hatched ground plane</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/hatched_ground_plane/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/hatched_ground_plane/</guid><description>
&lt;h2>Problems with thin flexible PCB&lt;span class="hx-absolute -hx-mt-20" id="problems-with-thin-flexible-pcb">&lt;/span>
&lt;a href="#problems-with-thin-flexible-pcb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>The base polyimide dielectric core has a thickness of 25um.&lt;/li>
&lt;li>This means that we need extremely thin traces with a solid ground plane if we want to reach our PCIe impedance target.&lt;/li>
&lt;li>Thicker dielectric cores are provided but they increase cost substantially and trace width barely increases.&lt;/li>
&lt;li>Even worse the calculated transmission line trace width is calculated as 0.05mm which is below JLCPCB&amp;rsquo;s manufacturing minimums.&lt;/li>
&lt;/ul>
&lt;h2>Hatched ground plane&lt;span class="hx-absolute -hx-mt-20" id="hatched-ground-plane">&lt;/span>
&lt;a href="#hatched-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Hatched ground plane can allow for wider traces while matching impedance.&lt;/li>
&lt;li>No easy equation to get impedance measurement (fill factor approximation does not model this adequately).&lt;/li>
&lt;li>Design of hatched ground plane must meet manufacturing capabilities of JLCPCB.&lt;/li>
&lt;li>Requires parametric search with simulation software.&lt;/li>
&lt;li>Refer to this section about simulating circuits with &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/open_ems/hatched_ground
" >openEMS&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h2>Determining parameters&lt;span class="hx-absolute -hx-mt-20" id="determining-parameters">&lt;/span>
&lt;a href="#determining-parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>There are three major parameters to consider:&lt;/p>
&lt;ol>
&lt;li>Trace width.&lt;/li>
&lt;li>Hatch width.&lt;/li>
&lt;li>Hatch gap.&lt;/li>
&lt;/ol>
&lt;p>Since we need to be above the minimum trace width for JLCPCB to manufacture it, we should select a fixed trace width of 0.1mm.&lt;/p>
&lt;ul>
&lt;li>This is similar the trace width of 0.13mm for our transmission line on the FR4 substrate for both the M.2 cad and Oculink port board.&lt;/li>
&lt;li>This means we will have an easier time designing a taper geometry when connecting the flex connector to our boards (discussed &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/transmission_line/flex_connection
" >here&lt;/a>).&lt;/li>
&lt;li>Means we only need to perform a parametric search with two variables (the hatch width and gap) which is less time consuming.&lt;/li>
&lt;/ul>
&lt;h2>Additional design considerations&lt;span class="hx-absolute -hx-mt-20" id="additional-design-considerations">&lt;/span>
&lt;a href="#additional-design-considerations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Refer to minimising &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/transmission_line/skew_requirements#hatched-ground-plane
" >intra-pair skew&lt;/a> for hatched ground planes and differential pairs.&lt;/p></description></item><item><title>Flex connection</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/flex_connection/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/flex_connection/</guid><description>
&lt;h2>Type of connection&lt;span class="hx-absolute -hx-mt-20" id="type-of-connection">&lt;/span>
&lt;a href="#type-of-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Flexible flat/printed cable connector&lt;span class="hx-absolute -hx-mt-20" id="flexible-flatprinted-cable-connector">&lt;/span>
&lt;a href="#flexible-flatprinted-cable-connector" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/molex_ffc_fpc_connector.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 36. Molex FFC/FPC connector&lt;/i>
&lt;a href="https://www.molex.com/en-us/products/connectors/ffc-fpc-connectors">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="width: 50%">Advantages&lt;/th>
&lt;th style="width: 50%">Disadvantages&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody style="vertical-align: top">
&lt;tr>
&lt;td>
&lt;ul>
&lt;li>Flexible connector can be replaced without resoldering the connector.&lt;/li>
&lt;li>Allows for easier installation and removal without danger of damaging flexible connector.&lt;/li>
&lt;/ul>
&lt;/td>
&lt;td>
&lt;ul>
&lt;li>Requires designing transmission line to gracefully transition to the connector without a large impedance discontinuity.&lt;/li>
&lt;li>Higher insertion loss compared to soldered connection since contact surface isn't perfect and there will be stubs from the internal connectors. This could hamper high frequency performance.&lt;/li>
&lt;li>Maximum usable frequency before insertion loss is more than 3dB is usually below 20GHz. This is the recommended design frequency for a good eye opening for PCIe 3.0 which has a fundemental frequency of 4GHz.&lt;/li>
&lt;li>Requires reflow soldering the connector which is extremely difficult for a fine pitch connector (0.2mm) without risk of bridging.&lt;/li>
&lt;li>Connectors add a few extra dollars of cost to the bill of materials&lt;/li>
&lt;/ul>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/molex_ffc_fpc_datasheet.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Molex: FFC/FPC connector maximum usable frequency and compatability with high speed USB&lt;/div>
&lt;/a>
&lt;a href="https://www.content.molex.com/dxdam/2f/2f35250f-5aa9-4ce8-a8be-a251f68293e0/987652-0193.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h3>Soldered connection&lt;span class="hx-absolute -hx-mt-20" id="soldered-connection">&lt;/span>
&lt;a href="#soldered-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="width: 50%">Advantages&lt;/th>
&lt;th style="width: 50%">Disadvantages&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody style="vertical-align: top">
&lt;tr>
&lt;td>
&lt;ul>
&lt;li>Allows for more control over the design of the transmission line structure&lt;/li>
&lt;li>Lower insertion loss since connection is soldered. This means no stubs caused by extra internal connector pins or non-ideal/non-uniform contact surface.&lt;/li>
&lt;li>Connector SMD pads can be designed specifically to avoid discontinuities in impedance caused by trace length mismatch, loss of coplanar ground traces or ground plane.&lt;/li>
&lt;/ul>
&lt;/td>
&lt;td>
&lt;ul>
&lt;li>Low tolerance for z-height error on pad connections requires soldering the connector very flat to the SMD pads. This may require pressure during the reflow process&lt;/li>
&lt;li>Requires hand positioning of flexible connector onto pads which is extremely difficult since the traces are only 0.1mm. Any pitch error will result in possible bridging or degraded signal integrity&lt;/li>
&lt;li>Flexible pcb is not removable and is permanently connected to the boards. This might make installation or removal more difficult if connector is in a suboptimal location.&lt;/li>
&lt;/ul>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Final choice&lt;span class="hx-absolute -hx-mt-20" id="final-choice">&lt;/span>
&lt;a href="#final-choice" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The &lt;strong>soldered connection&lt;/strong> allows closer control over the design of the tranmission line and avoids the downsides of a FFC connector. This should allow us to avoid or mitigate the signal integrity issues that will arise from the use of a FFC connector.&lt;/p>
&lt;h2>Structure of transmission line&lt;span class="hx-absolute -hx-mt-20" id="structure-of-transmission-line">&lt;/span>
&lt;a href="#structure-of-transmission-line" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/sierra_express_coplanar_ground_plane_via_fence_transmission_line.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 31. Differential pair with coplanar ground plane stitched with via fence&lt;/i>
&lt;/div>
&lt;/div>
&lt;p>The following are useful equations to describe the impedance of the transmission line in relation to it&amp;rsquo;s geometry. These will be useful in determining which parameters to adjust if we want to meet our PCIe impedance target. This comes at the cost of lower modularity but is this is an acceptable compromise for higher guarantees of high frequency signal performance.&lt;/p>
&lt;h3>Characteristic impedance&lt;span class="hx-absolute -hx-mt-20" id="characteristic-impedance">&lt;/span>
&lt;a href="#characteristic-impedance" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Rough equation for a simple transmission line is given by:&lt;/p>
&lt;p>\[
Z_0 = \sqrt{\frac{L}{C}}
\]&lt;/p>
&lt;p>This is still useful when discussing changes in impedance for a variety of transmission line structures if we discuss them in terms of differing trace inductances and capacitances.&lt;/p>
&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://home.sandiego.edu/~ekim/e194rfs01/tlsmthek.pdf" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>University of San Diego: Waves and impedances on transmission_lines&lt;/div>
&lt;/a>
&lt;/div>
&lt;h3>Parallel plate capacitors&lt;span class="hx-absolute -hx-mt-20" id="parallel-plate-capacitors">&lt;/span>
&lt;a href="#parallel-plate-capacitors" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The capacitance between a simple two plate system is given by:
&lt;p>\[ C = \frac{\epsilon_0 A}{d} \]&lt;/p>
&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/parallel_plate_capacitor.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 35. Parallel plate capacitor&lt;/i>
&lt;a href="https://byjus.com/physics/parallel-plate-capacitor/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;h3>Wire over plane&lt;span class="hx-absolute -hx-mt-20" id="wire-over-plane">&lt;/span>
&lt;a href="#wire-over-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The inductance of a wire over a plane can be approximated as:
&lt;p>\[ L = \frac{\mu_0 \mu_r d}{2 \pi} cosh^{-1}{\frac{h}{2r}} \]&lt;/p>
&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/wire_over_plane.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 34. Solid wire over ground plane&lt;/i>
&lt;a href="https://www.allaboutcircuits.com/tools/wire-over-plane-inductance-calculator/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;h2>Stackup height differences&lt;span class="hx-absolute -hx-mt-20" id="stackup-height-differences">&lt;/span>
&lt;a href="#stackup-height-differences" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/jlcpcb_stackup_diagram.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 32. JLCPCB FR4 stackup vs flexible PCB stackup&lt;/i>
&lt;a href="https://jlcpcb.com/impedance">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Transitioning our transmission line from an FR4 stackup to a flexible PCB stackup causes the height of the dielectric in the transmission line to significantly decrease.&lt;/p>
&lt;ul>
&lt;li>Therefore signal trace to ground plane capacitance increases which causes impedance to decrease.&lt;/li>
&lt;li>Mismatch in impedance causes signal reflections and reduced integrity.&lt;/li>
&lt;/ul>
&lt;h3>Hatched ground plane&lt;span class="hx-absolute -hx-mt-20" id="hatched-ground-plane">&lt;/span>
&lt;a href="#hatched-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>If the transmission line signal traces have the same width, using a suitably designed hatched ground plane will increase the impedance to meet our impedance target.&lt;/p>
&lt;ul>
&lt;li>See &lt;a href="https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/hatched_ground_plane" >designing hatched ground plane&lt;/a> for more details.&lt;/li>
&lt;li>See &lt;a href="https://williamyang98.github.io/oculink_m2_adapter/docs/design/open_ems/hatched_ground" >simulating hatched ground plane&lt;/a> for more details.&lt;/li>
&lt;/ul>
&lt;h2>Vertical transmission line connection&lt;span class="hx-absolute -hx-mt-20" id="vertical-transmission-line-connection">&lt;/span>
&lt;a href="#vertical-transmission-line-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/jlcpcb_stackup_connection.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 33. JLCPCB transmission line connection between FR4 stackup and flexible PCB&lt;/i>
&lt;/div>
&lt;/div>
Transition from FR4 stackup to flexible PCB involves a vertical solder connection which produces an impedance discontinuity.&lt;/p>
&lt;ul>
&lt;li>The coplanar ground traces experience some discontinuity when it meets the solder connection due to an increase in the conductor height.
&lt;ul>
&lt;li>Results in an increase in edge coupling area.&lt;/li>
&lt;li>This increases capacitance and decreases impedance.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>The E-fields between the signal traces and ground planes have to switch layers.
&lt;ul>
&lt;li>Broadside coupling means stronger E-fields and more energy being carried compared to the coplanar ground traces which use edge coupling.&lt;/li>
&lt;li>Capacitive coupling is greater through a broadside connection since the traces are 0.1mm wide, compared to the edge side coupling which occurs over a 0.012mm or 0.035mm&lt;/li>
&lt;li>This was verified through an &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/open_ems/
" >open EMS simulation&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Tapered connection&lt;span class="hx-absolute -hx-mt-20" id="tapered-connection">&lt;/span>
&lt;a href="#tapered-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/flex_pcb_transmission_line_taper.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 37. Flexible PCB transmission line taper&lt;/i>
&lt;/div>
&lt;/div>
&lt;p>A taper is a gradual change in the geometry of a transmission line that attempts to maintain consistent impedance value across a geometric transition.&lt;/p>
&lt;ul>
&lt;li>We use a linear taper to transition the E-field broadside coupling from the ground plane on the M.2 card to the ground plane on the flexible PCB.&lt;/li>
&lt;li>A linear taper is not necessarily the best however it is very simple to design.
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.altium.com/p/rf-trace-taper" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: How to design an RF taper for impedance matching&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>Other taper designs have complex non-linear equations describing their shape which is difficult to import/design using KiCAD.&lt;/li>
&lt;li>Linear taper just requires the polyline tool in KiCAD.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Parametric optimisation of taper&lt;span class="hx-absolute -hx-mt-20" id="parametric-optimisation-of-taper">&lt;/span>
&lt;a href="#parametric-optimisation-of-taper" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To verify the performance of the taper &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/open_ems/taper
" >openEMS&lt;/a> was used.&lt;/p>
&lt;ul>
&lt;li>Simulated stackup with flex PCB connected to FR4 transmission line as a 3 layer board.
&lt;ul>
&lt;li>Layers were: &lt;code>[FR4 ground, signal traces, flex PCB ground]&lt;/code>.&lt;/li>
&lt;li>The soldered signal traces were approximated as an ideal single trace on a single layer.&lt;/li>
&lt;li>This was done so that only the E-field transition between the ground planes was relevant for our parametric search.&lt;/li>
&lt;li>Might not be ideal from a simulation accuracy standpoint as the geometry of the solder connection might impact the impedance match. However representing the solder connection in our simulation setup was difficult so this approximation/assumption was used.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Parametric search was done on the length, width, and amount of overlap of the linear taper.&lt;/li>
&lt;li>Shape of taper was modified separately on the FR4 stack up and flexible PCB stackup.&lt;/li>
&lt;li>Possible that simulation was not accurate since mesh size is limited and linear taper requires very small simulation grid size to accurately capture the pointy part.&lt;/li>
&lt;/ul></description></item><item><title>Calculations</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/calculations/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/calculations/</guid><description>
&lt;h2>JLCPCB data&lt;span class="hx-absolute -hx-mt-20" id="jlcpcb-data">&lt;/span>
&lt;a href="#jlcpcb-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Soldermask&lt;span class="hx-absolute -hx-mt-20" id="soldermask">&lt;/span>
&lt;a href="#soldermask" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Location&lt;/th>
&lt;th>Thickness (mil)&lt;/th>
&lt;th>Thickness (mm)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Laminate&lt;/td>
&lt;td>1.2&lt;/td>
&lt;td>0.03048&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Traces&lt;/td>
&lt;td>0.6&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Dielectric constant = 3.8&lt;/p>
&lt;h3>Core dielectric&lt;span class="hx-absolute -hx-mt-20" id="core-dielectric">&lt;/span>
&lt;a href="#core-dielectric" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Dielectric constant = 4.6&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://jlcpcb.com/impedance?_t=1727251667361" target="_blank" rel="noopener">JLCPCB impedance control stackup information&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://jlcpcb.com/help/article/User-Guide-to-the-JLCPCB-Impedance-Calculator" target="_blank" rel="noopener">JLCPCB impedance calculator guide&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>JLC04081H-3313 Stackup&lt;span class="hx-absolute -hx-mt-20" id="jlc04081h-3313-stackup">&lt;/span>
&lt;a href="#jlc04081h-3313-stackup" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Name breakdown&lt;span class="hx-absolute -hx-mt-20" id="name-breakdown">&lt;/span>
&lt;a href="#name-breakdown" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Part&lt;/th>
&lt;th>Meaning&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>04&lt;/td>
&lt;td>4 layer&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>08&lt;/td>
&lt;td>8mm thickness&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>1oz outer copper&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>H&lt;/td>
&lt;td>half (0.5oz) inner copper&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3313&lt;/td>
&lt;td>3133 prepreg&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Stackup information&lt;span class="hx-absolute -hx-mt-20" id="stackup-information">&lt;/span>
&lt;a href="#stackup-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Layer&lt;/th>
&lt;th>Material Type&lt;/th>
&lt;th>Thickness (mm)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Trace&lt;/td>
&lt;td>Copper&lt;/td>
&lt;td>0.035&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Prepreg&lt;/td>
&lt;td>3313x1&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inner Layer&lt;/td>
&lt;td>Copper&lt;/td>
&lt;td>0.0152&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Core&lt;/td>
&lt;td>Core&lt;/td>
&lt;td>0.45&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inner Layer&lt;/td>
&lt;td>Copper&lt;/td>
&lt;td>0.0152&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Prepreg&lt;/td>
&lt;td>3313x1&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace&lt;/td>
&lt;td>Copper&lt;/td>
&lt;td>0.035&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Core material properties&lt;span class="hx-absolute -hx-mt-20" id="core-material-properties">&lt;/span>
&lt;a href="#core-material-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Nan Ya Plastics NP-155F (4 to 8 layers)&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Core Thickness (mm)&lt;/th>
&lt;th>εr&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0.08&lt;/td>
&lt;td>3.99&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.10&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.13&lt;/td>
&lt;td>4.17&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.15&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.20&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.25&lt;/td>
&lt;td>4.23&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.30&lt;/td>
&lt;td>4.41&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.35&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.40&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.45&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.50&lt;/td>
&lt;td>4.48&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.55&lt;/td>
&lt;td>4.41&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.60&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.65&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.70&lt;/td>
&lt;td>4.53&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&amp;gt; 0.70&lt;/td>
&lt;td>4.43&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Prepreg&lt;span class="hx-absolute -hx-mt-20" id="prepreg">&lt;/span>
&lt;a href="#prepreg" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Source 1&lt;span class="hx-absolute -hx-mt-20" id="source-1">&lt;/span>
&lt;a href="#source-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Prepreg Type&lt;/th>
&lt;th>Resin Content&lt;/th>
&lt;th>Nominal Thickness (mil)&lt;/th>
&lt;th>εr&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>7628&lt;/td>
&lt;td>49%&lt;/td>
&lt;td>8.6&lt;/td>
&lt;td>4.4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3313 (2313)&lt;/td>
&lt;td>57%&lt;/td>
&lt;td>4.2&lt;/td>
&lt;td>4.1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1080&lt;/td>
&lt;td>67%&lt;/td>
&lt;td>3.3&lt;/td>
&lt;td>3.91&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2116&lt;/td>
&lt;td>54%&lt;/td>
&lt;td>4.9&lt;/td>
&lt;td>4.16&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Source 2&lt;span class="hx-absolute -hx-mt-20" id="source-2">&lt;/span>
&lt;a href="#source-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Prepreg type&lt;/th>
&lt;th>Dielectric constant&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>7628&lt;/td>
&lt;td>4.6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3313&lt;/td>
&lt;td>4.05&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2116&lt;/td>
&lt;td>4.25&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Impedance calculator results&lt;span class="hx-absolute -hx-mt-20" id="impedance-calculator-results">&lt;/span>
&lt;a href="#impedance-calculator-results" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://jlcpcb.com/pcb-impedance-calculator" target="_blank" rel="noopener">JLCPCB impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Layers&lt;/td>
&lt;td>4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Thickness&lt;/td>
&lt;td>0.8mm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inner copper weight&lt;/td>
&lt;td>0.5oz&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Outer copper weight&lt;/td>
&lt;td>1.0oz&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Stackup&lt;/td>
&lt;td>JLC04081H-3313&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>NOTE&lt;/strong>: Core is 0.5mm instead of expected 0.45mm which might reduce accuracy of calculations.&lt;/p>
&lt;h4>Trace thicknesses&lt;span class="hx-absolute -hx-mt-20" id="trace-thicknesses">&lt;/span>
&lt;a href="#trace-thicknesses" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Impedance (Ω)&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Config&lt;/th>
&lt;th>Trace width (mm)&lt;/th>
&lt;th>Trace spacing (mm)&lt;/th>
&lt;th>Distance coplanar (mm)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>85&lt;/td>
&lt;td>Coplanar differential pair with ground&lt;/td>
&lt;td>L1-L2&lt;/td>
&lt;td>0.1549&lt;/td>
&lt;td>0.15&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>85&lt;/td>
&lt;td>Coplanar differential pair with ground&lt;/td>
&lt;td>L2-L3-L4&lt;/td>
&lt;td>0.1334&lt;/td>
&lt;td>0.15&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>42.5&lt;/td>
&lt;td>Coplanar single ended with ground&lt;/td>
&lt;td>L1-L2&lt;/td>
&lt;td>0.1971&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>42.5&lt;/td>
&lt;td>Coplanar single ended with ground&lt;/td>
&lt;td>L2-L3-L4&lt;/td>
&lt;td>0.1679&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Sierra circuits calculations&lt;span class="hx-absolute -hx-mt-20" id="sierra-circuits-calculations">&lt;/span>
&lt;a href="#sierra-circuits-calculations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/" target="_blank" rel="noopener">Sierra circuits impedance calculator&lt;/a>&lt;/p>
&lt;h3>Prepreg dielectric material property&lt;span class="hx-absolute -hx-mt-20" id="prepreg-dielectric-material-property">&lt;/span>
&lt;a href="#prepreg-dielectric-material-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Rigid - FR408HR - Prepreg&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Dielectric thickness&lt;/td>
&lt;td>4.2?&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Construction&lt;/td>
&lt;td>1x3313-59%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Resin content&lt;/td>
&lt;td>59%&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Frequency (GHz)&lt;/th>
&lt;th>Dielectric constant&lt;/th>
&lt;th>Dissipation factor&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>3.58&lt;/td>
&lt;td>0.009&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>3.57&lt;/td>
&lt;td>0.009&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>3.55&lt;/td>
&lt;td>0.010&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10&lt;/td>
&lt;td>3.54&lt;/td>
&lt;td>0.010&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>20&lt;/td>
&lt;td>3.54&lt;/td>
&lt;td>0.010&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Coplanar stripline differential pair with ground plane&lt;span class="hx-absolute -hx-mt-20" id="coplanar-stripline-differential-pair-with-ground-plane">&lt;/span>
&lt;a href="#coplanar-stripline-differential-pair-with-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/?appid=CPSLDPIMPCAL" target="_blank" rel="noopener">Impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>L2-L3-L4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L2-L3 dielectric height (mm)&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L2-L3 dielectric constant&lt;/td>
&lt;td>3.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3-L4 dielectric height (mm)&lt;/td>
&lt;td>0.45&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3-L4 dielectric constant&lt;/td>
&lt;td>4.4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3 Trace thickness (mm)&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3 Trace separation (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor spacing (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor width (mm)&lt;/td>
&lt;td>0.6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Dielectric covering tracks&lt;/td>
&lt;td>L2-L3&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Input parameter&lt;/th>
&lt;th>Input value&lt;/th>
&lt;th>Output parameter&lt;/th>
&lt;th>Output value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Zdiff (Ω)&lt;/td>
&lt;td>85&lt;/td>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1372&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1334&lt;/td>
&lt;td>Zdiff (Ω)&lt;/td>
&lt;td>85.88&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Coplanar soldermask coated microstrip differential pair with ground plane&lt;span class="hx-absolute -hx-mt-20" id="coplanar-soldermask-coated-microstrip-differential-pair-with-ground-plane">&lt;/span>
&lt;a href="#coplanar-soldermask-coated-microstrip-differential-pair-with-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/?appid=CPCTDPIMPCAL" target="_blank" rel="noopener">Impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>L1-L2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L1-L2 dielectric height (mm)&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L1-L2 dielectric constant&lt;/td>
&lt;td>3.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask substrate height (mm)&lt;/td>
&lt;td>0.03048&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask trace height (mm)&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask dielectric constant&lt;/td>
&lt;td>3.8&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace thickness (mm)&lt;/td>
&lt;td>0.035&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace separation (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor spacing (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor width (mm)&lt;/td>
&lt;td>0.6&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Input parameter&lt;/th>
&lt;th>Input value&lt;/th>
&lt;th>Output parameter&lt;/th>
&lt;th>Output value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Zdiff (Ω)&lt;/td>
&lt;td>85&lt;/td>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1676&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1549&lt;/td>
&lt;td>Zdiff (Ω)&lt;/td>
&lt;td>88.18&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Coplanar stripline single ended with ground plane&lt;span class="hx-absolute -hx-mt-20" id="coplanar-stripline-single-ended-with-ground-plane">&lt;/span>
&lt;a href="#coplanar-stripline-single-ended-with-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/?appid=CPSLSEIMPCAL" target="_blank" rel="noopener">Impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>L2-L3-L4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L2-L3 dielectric height (mm)&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L2-L3 dielectric constant&lt;/td>
&lt;td>3.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3-L4 dielectric height (mm)&lt;/td>
&lt;td>0.45&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3-L4 dielectric constant&lt;/td>
&lt;td>4.4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3 Trace thickness (mm)&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor spacing (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor width (mm)&lt;/td>
&lt;td>0.6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Dielectric covering tracks&lt;/td>
&lt;td>L2-L3&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Input parameter&lt;/th>
&lt;th>Input value&lt;/th>
&lt;th>Output parameter&lt;/th>
&lt;th>Output value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Zdiff (Ω)&lt;/td>
&lt;td>42.5&lt;/td>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.174&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1679&lt;/td>
&lt;td>Zdiff (Ω)&lt;/td>
&lt;td>43.27&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Coplanar soldermask coated microstrip singled ended with ground plane&lt;span class="hx-absolute -hx-mt-20" id="coplanar-soldermask-coated-microstrip-singled-ended-with-ground-plane">&lt;/span>
&lt;a href="#coplanar-soldermask-coated-microstrip-singled-ended-with-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/?appid=CPCTSEIMPCAL" target="_blank" rel="noopener">Impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>L1-L2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L1-L2 dielectric height (mm)&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L1-L2 dielectric constant&lt;/td>
&lt;td>3.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask substrate height (mm)&lt;/td>
&lt;td>0.03048&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask trace height (mm)&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask dielectric constant&lt;/td>
&lt;td>3.8&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace thickness (mm)&lt;/td>
&lt;td>0.035&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor spacing (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor width (mm)&lt;/td>
&lt;td>0.6&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Input parameter&lt;/th>
&lt;th>Input value&lt;/th>
&lt;th>Output parameter&lt;/th>
&lt;th>Output value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Zdiff (Ω)&lt;/td>
&lt;td>42.5&lt;/td>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1971&lt;/td>
&lt;td>Zdiff (Ω)&lt;/td>
&lt;td>44.5&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item></channel></rss>