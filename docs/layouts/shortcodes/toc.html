{{- $cols := default 3 (.Get "cols") -}}
{{- $dir := .Page.File.Dir -}}
<div class="hextra-cards hx-mt-4 hx-gap-4 hx-grid not-prose" style="--hextra-cards-grid-cols: {{ $cols }};">
{{ range .Site.RegularPages.ByWeight }}
  {{ if eq .File.Dir $dir }}
    {{- $icon := default "bookmark" (.Param "icon") -}}
    {{- $title := .Title -}}
    {{- $link := .RelPermalink -}}
    {{ partial "shortcodes/card.html" (dict "title" $title "icon" $icon "link" $link) }}
  {{ end }}
{{ end }}
</div>
