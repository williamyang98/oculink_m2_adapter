<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>M.2 Oculink Adapter â€“ Transmission line</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/</link><description>Recent content in Transmission line on M.2 Oculink Adapter</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/index.xml" rel="self" type="application/rss+xml"/><item><title>Structures</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/structures/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/structures/</guid><description>
&lt;p>PCIe receive and transmit lanes and reference clock are high frequency differential signals. There are many possible designs for a differential transmission line.&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/sierra_express_differential_pair_topologies.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 15. Differential pair topologies&lt;/i>
&lt;a href="https://impedance.app.protoexpress.com/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;h2>Common mode noise&lt;span class="hx-absolute -hx-mt-20" id="common-mode-noise">&lt;/span>
&lt;a href="#common-mode-noise" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>In theory a perfectly balanced differential pair would only need two conductors to handle the symmetrical current path however this should not be relied upon.&lt;/p>
&lt;ul>
&lt;li>Common mode noise can arise due to power supply differences between host and device. This is especially important because we have a laptop powered by a USB C dock and an eGPU powered by a separate power supply.&lt;/li>
&lt;li>Without a ground plane or coplanar ground trace the return current for the common mode signal may be over a large loop area.
&lt;ul>
&lt;li>This can pickup interference from environmental sources and harm signal integrity.&lt;/li>
&lt;li>Increases amount of EMI induced in signal traces within that loop area.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2>Crosstalk&lt;span class="hx-absolute -hx-mt-20" id="crosstalk">&lt;/span>
&lt;a href="#crosstalk" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Given our tight routing requirements our PCIe lanes would be extremely close together by only a few multiples of the trace width. This means we need to be very careful about inter-lane crosstalk.&lt;/p>
&lt;ul>
&lt;li>Can be fixed by increasing separation between lanes which is not possible given our tight space requirements.&lt;/li>
&lt;li>Adding a ground plane to confine the electric field generated by the differential pair (almost always helps).&lt;/li>
&lt;li>Adding coplanar guard traces to separate adjacent lanes and add additional E-field confinement.
&lt;ul>
&lt;li>Sometimes can worsen crosstalk if guard trace is high impedance and functions closer to a resonant tank than a ground trace.&lt;/li>
&lt;li>Can be improved by turning coplanar guard traces into a &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/via_fence
" >via fence&lt;/a> by stitching them to a ground plane&lt;/li>
&lt;li>This guarantees coplanar guard trace is low impedance.&lt;/li>
&lt;li>Also adds additional grounding with vias which further improves E-field confinement and prevents inter-lane crosstalk.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2>Best design&lt;span class="hx-absolute -hx-mt-20" id="best-design">&lt;/span>
&lt;a href="#best-design" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>The following should be used for an optimal differential pair transmission line:&lt;/p>
&lt;ul>
&lt;li>Solid ground plane&lt;/li>
&lt;li>Coplanar guard traces&lt;/li>
&lt;li>Via fence&lt;/li>
&lt;/ul>
&lt;p>Through this we should be able to reduce crosstalk, handle common mode noise, and reduce EMI emissions even with tightly packed PCIe lanes.&lt;/p>
&lt;h2>Resources&lt;span class="hx-absolute -hx-mt-20" id="resources">&lt;/span>
&lt;a href="#resources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/texas_instrument_pcie4_layout_guidelines.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Layout guidelines for PCIe Gen 4.0&lt;/div>
&lt;/a>
&lt;a href="https://www.ti.com/lit/an/slaae45/slaae45.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul></description></item><item><title>Via fence</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/via_fence/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/via_fence/</guid><description>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/via_fence_diagram.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 17. Via fence&lt;/i>
&lt;/div>
&lt;/div>
&lt;h2>Crosstalk&lt;span class="hx-absolute -hx-mt-20" id="crosstalk">&lt;/span>
&lt;a href="#crosstalk" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Improves impedance of coplanar ground guard trace by stitching it to a ground plane which improves E-field confinement.&lt;/li>
&lt;li>Additional ground vias improve E-field confinement.&lt;/li>
&lt;li>Both of these contribute to significantly reducing the inter-lane crosstalk.&lt;/li>
&lt;/ul>
&lt;h2>Spacing requirements&lt;span class="hx-absolute -hx-mt-20" id="spacing-requirements">&lt;/span>
&lt;a href="#spacing-requirements" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>If spacing is incorrect it can result in worse crosstalk since fence can behave like a resonant tank.&lt;/li>
&lt;li>For a given maximum frequency which needs to be blocked, the equation is given as follows.&lt;/li>
&lt;/ul>
&lt;p>\[
\begin{align}
d_{spacing} &amp;= \frac{\lambda_{min}}{8} \\
d_{spacing} &amp;= \frac{c}{8 \sqrt{\epsilon_r} \times f_{max}}
\end{align}
\]&lt;/p>
&lt;p>For the best eye opening we should set the maximum frequency as the 5th harmonic of the PCIe fundemental frequency. The following spacing values are calculated with
\( \epsilon_r = 4.1 \)
for FR4.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Gen&lt;/th>
&lt;th>
\( f_{0} \)
(GHz)&lt;/th>
&lt;th>
\( f_{max} \)
(GHz)&lt;/th>
&lt;th>
\( d_{spacing} \)
(mm)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1.0&lt;/td>
&lt;td>1.25&lt;/td>
&lt;td>6.25&lt;/td>
&lt;td>2.96&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.0&lt;/td>
&lt;td>2.5&lt;/td>
&lt;td>12.5&lt;/td>
&lt;td>1.48&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.0&lt;/td>
&lt;td>4.0&lt;/td>
&lt;td>20&lt;/td>
&lt;td>0.93&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4.0&lt;/td>
&lt;td>8.0&lt;/td>
&lt;td>40&lt;/td>
&lt;td>0.46&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.0&lt;/td>
&lt;td>16.0&lt;/td>
&lt;td>80&lt;/td>
&lt;td>0.23&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Manufacturing limitations&lt;span class="hx-absolute -hx-mt-20" id="manufacturing-limitations">&lt;/span>
&lt;a href="#manufacturing-limitations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>JLCPCB has manufacturing constraints that limits the geometry of our via fence. The following values are chosen to minimise the manufacturing cost and therefore may not be the best values we can choose.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Via hole size&lt;/td>
&lt;td>Minimum&lt;/td>
&lt;td>0.3mm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Via hole diameter&lt;/td>
&lt;td>Minimum&lt;/td>
&lt;td>0.4mm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Via hole to different net distance&lt;/td>
&lt;td>Minimum&lt;/td>
&lt;td>0.2mm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Via hole to hole spacing&lt;/td>
&lt;td>Minimum&lt;/td>
&lt;td>0.2mm&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>Since we are targetting PCIe 4.0 our spacing requirement is 0.46mm and is within the manufacturing constraints.&lt;/li>
&lt;li>Our coplanar guard traces are placed 0.1mm away from signal traces so we only need 0.1mm of copper between the via and edge of coplanar guard trace.&lt;/li>
&lt;/ul>
&lt;h2>Resources&lt;span class="hx-absolute -hx-mt-20" id="resources">&lt;/span>
&lt;a href="#resources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/north_dakota_university_via_fencing.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Effectiveness of PCB perimeter via fencing&lt;/div>
&lt;/a>
&lt;a href="https://www.ndsu.edu/pubweb/~braaten/EMC_2016_1.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.altium.com/documentation/altium-designer/via-stitching-via-shielding-pcb" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: Adding via stitching &amp;amp; via shielding&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://hackaday.io/project/161821-journey-sbc/log/155995-rf-via-stitchingfencing-pt-2" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Hackaday: RF &amp;amp; Via Stitching/Fencing&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul></description></item><item><title>Via jumps</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/via_jumps/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/via_jumps/</guid><description>
&lt;ul>
&lt;li>Via jumps are necessary if a transmission line needs to switch lanes.&lt;/li>
&lt;li>In order to avoid signal reflections the characteristic impedance of the transmission line needs to remain constant when traversing from between layers through a via.&lt;/li>
&lt;/ul>
&lt;h2>Coaxial via&lt;span class="hx-absolute -hx-mt-20" id="coaxial-via">&lt;/span>
&lt;a href="#coaxial-via" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/via_jump_diagram.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 18. Via jump with current path (red/blue) and E-field (yellow)&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>If there are no nearby grounding vias then a distant current return path is used which results in a significant impedance mismatch.&lt;/li>
&lt;li>Instead we add nearby grounding vias to provide a current return path.&lt;/li>
&lt;li>This type of via structure is called a coaxial via.&lt;/li>
&lt;li>The following parameters are important when trying to control the impedance of a coaxial via:
&lt;ul>
&lt;li>Distance of ground vias from signal via.&lt;/li>
&lt;li>Number of ground vias around the signal via.&lt;/li>
&lt;li>Hole size of the ground via and signal via.&lt;/li>
&lt;li>Dielectric material used to fill the vias.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2>Teardrop taper&lt;span class="hx-absolute -hx-mt-20" id="teardrop-taper">&lt;/span>
&lt;a href="#teardrop-taper" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/via_jump_pcb.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 19. Via jump design with teardrop taper&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>When a signal trace goes through a via there is an impedance discontinuity especially if the trace width and via diameter are different.&lt;/li>
&lt;li>Adjusting the following can reduce the impedance discontinuity:
&lt;ul>
&lt;li>Adding a teardrop taper to match trace width to via diameter.&lt;/li>
&lt;li>Adjusting the via annular diameter.&lt;/li>
&lt;li>Adjusting the via hole size.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2>Determining parameters&lt;span class="hx-absolute -hx-mt-20" id="determining-parameters">&lt;/span>
&lt;a href="#determining-parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>There is no closed form equation for the impedance of a coaxial via with a teardrop taper.&lt;/li>
&lt;li>This means running a parametric search through a simulation to determine the optimal parameter values.&lt;/li>
&lt;li>Very difficult to do given the number of parameters for the coaxial via and teardrop taper which all impact performance.&lt;/li>
&lt;li>Refer to this section about simulating circuits with &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/openEMS
" >openEMS&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h2>Via stubs&lt;span class="hx-absolute -hx-mt-20" id="via-stubs">&lt;/span>
&lt;a href="#via-stubs" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/sierra_express_via_stub_back_drilling.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 20. Via stub back drilling&lt;/i>
&lt;a href="https://www.protoexpress.com/blog/back-drilling-pcb-design-and-manufacturing/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>If via jump isn&amp;rsquo;t between the top and bottom layers then there will be a stub segment in the via.&lt;/li>
&lt;li>This will have the most signficant impact at the following frequency:&lt;/li>
&lt;/ul>
&lt;p>\[
f_0 = \frac{c}{4 \sqrt{\epsilon_r} \times d_{stub}}
\]&lt;/p>
&lt;ul>
&lt;li>Actual performance degradation happens well before this frequency.&lt;/li>
&lt;li>By decreasing
\( d_{stub} \)
we can increase
\( f_0 \)
well past our maximum design frequency and avoid problems.&lt;/li>
&lt;li>If the via stub is sufficiently short then it will not have a noticeable impact on signal integrity below our maximum design frequency.&lt;/li>
&lt;/ul>
&lt;h2>Buried, blind and through hole vias&lt;span class="hx-absolute -hx-mt-20" id="buried-blind-and-through-hole-vias">&lt;/span>
&lt;a href="#buried-blind-and-through-hole-vias" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/jlcpcb_what_is_pcb_via.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 21. Buried, blind and through hole vias&lt;/i>
&lt;a href="https://jlcpcb.com/blog/what-is-pcb-via">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Buried and blind vias can be used to avoid via stubs.&lt;/li>
&lt;li>These types of vias can be manufactured using a technique called backdrilling.&lt;/li>
&lt;li>However JLCPCB only supports through hole vias.&lt;/li>
&lt;/ul>
&lt;h2>Resources&lt;span class="hx-absolute -hx-mt-20" id="resources">&lt;/span>
&lt;a href="#resources" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.protoexpress.com/blog/how-via-impedance-impacts-signal-integrity-in-pcbs/" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Sierra Circuits: Coaxial via geometry&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://blog.samtec.com/post/via-stubs-practical-strategies-to-mitigate-return-loss/" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Samtec blog: Practical strategies to mitigate return loss from via stubs&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.altium.com/p/backdrill-it-baby-how-to-reduce-signal-distortions-on-your-pcb" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: Stubs and backdrilling in high speed design&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul></description></item><item><title>Skin effect</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/skin_effect/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/skin_effect/</guid><description>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/copper_roughness_skin_effect.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 22. Visualisation of skin effect on rough conductive surfaces&lt;/i>
&lt;a href="https://industrial.evidentscientific.com.cn/en/applications/copper-foil-surface-roughness-for-5g-printed-circuit-boards/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Skin effect is when the signal current is expelled to the surface of the conductor at high frequencies.&lt;/li>
&lt;li>With a rough copper finish, skin effect can result in higher trace impedance which can result in:
&lt;ul>
&lt;li>Signal loss through resistive losses.&lt;/li>
&lt;li>Impedance mismatch and signal reflections.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://industrial.evidentscientific.com.cn/en/applications/copper-foil-surface-roughness-for-5g-printed-circuit-boards/" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Evident Scientific: Copper foil surface roughness for 5G PCBs&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h2>Increasing trace width&lt;span class="hx-absolute -hx-mt-20" id="increasing-trace-width">&lt;/span>
&lt;a href="#increasing-trace-width" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Use wider tranmission line signal traces to improve impedance and therefore signal integrity at higher frequencies.&lt;/li>
&lt;li>Comes at the cost of worse impedance matching at lower frequencies.&lt;/li>
&lt;li>Signal losses generally occur at higher frequencies (via jumps, tapered transitions, skin effect, insertion loss, dielectric loss).&lt;/li>
&lt;li>Therefore to achieve best performance over the entire bandwidth we should increase transmission line width to mitigate skin effect at higher frequencies.&lt;/li>
&lt;/ul>
&lt;h2>Copper finish&lt;span class="hx-absolute -hx-mt-20" id="copper-finish">&lt;/span>
&lt;a href="#copper-finish" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>PCB manufacturers have a variety of copper foil types to use if you need a smoother surface to avoid skin effect.&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.altium.com/p/types-pcb-copper-foil-high-frequency-design" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: Types of PCB copper foils for high frequency design&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.altium.com/p/copper-choice-and-copper-efficiency-high-frequency-pcb-design" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: Copper choice and efficiency for high frequency PCB design&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Type of copper foil&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Roughness&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Electrodeposited&lt;/td>
&lt;td>Has a rougher surface on one side of the copper foil&lt;/td>
&lt;td>Highest (above 1 um)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Reverse treated&lt;/td>
&lt;td>Uses a surface treatment to reduce roughness&lt;/td>
&lt;td>Moderate (0.5 um to 1.5 um)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Rolled-annealed&lt;/td>
&lt;td>Has a smoother, denser surface from a rolling process&lt;/td>
&lt;td>Low (0.25 to 0.5 um)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ultra-low profile&lt;/td>
&lt;td>Additional treatments are used to reduce roughness&lt;/td>
&lt;td>Lowest (comparable to rolled annealed, but can be less than 0.3 um)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>Unfortunately JLCPCB doesn&amp;rsquo;t allow you to select the type of copper foil.&lt;/li>
&lt;/ul></description></item><item><title>Skew requirements</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/skew_requirements/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/skew_requirements/</guid><description>
&lt;p>The PCIe standard specifies several requirements for differential pair skew.&lt;/p>
&lt;h2>Inter-pair skew (between lanes)&lt;span class="hx-absolute -hx-mt-20" id="inter-pair-skew-between-lanes">&lt;/span>
&lt;a href="#inter-pair-skew-between-lanes" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Inter-pair skew is usually not specified but has a lower bound of 1ns for PCIe 4.0.&lt;/p>
&lt;ul>
&lt;li>Assuming a propagation speed of 0.6c, the inter-pair skew is around 20cm.&lt;/li>
&lt;li>Since this is such a large value the inter-pair skew requirement is difficult to violate.&lt;/li>
&lt;li>The reason for this is because the PCIe standard states that transceivers have to do symbol synchronisation.&lt;/li>
&lt;li>Usually done with a buffer which usually can store around 20 symbols for each lane.&lt;/li>
&lt;li>For PCIe 4.0 at a transfer rate of 16GT/s, 20 symbols have a duration of 1.25ns.&lt;/li>
&lt;/ul>
&lt;h2>Intra-pair skew (within lane)&lt;span class="hx-absolute -hx-mt-20" id="intra-pair-skew-within-lane">&lt;/span>
&lt;a href="#intra-pair-skew-within-lane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Intra-pair skew must be less than 5 mils (0.127mm) which is rather small margin of error.
The following are phenomena that can contribute to intra-pair skew and methods to mitigate them.&lt;/p>
&lt;h3>Bends in transmission line&lt;span class="hx-absolute -hx-mt-20" id="bends-in-transmission-line">&lt;/span>
&lt;a href="#bends-in-transmission-line" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/sierra_express_length_matching.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 23. Techniques to length match differential pair&lt;/i>
&lt;a href="https://www.protoexpress.com/blog/signal-propagation-delay-pcb/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Bending causes the lengths of differential traces to become shorter and longer resulting in skew.&lt;/li>
&lt;li>Can be avoided by keeping bends short so local skew error is below 5 mils.&lt;/li>
&lt;li>If skew error is too large than it should be immediately corrected near the bend by adding serpentine bends for the shorter side of the differential pair.&lt;/li>
&lt;li>KiCAD can automatically do this using their skew correction tool.&lt;/li>
&lt;/ul>
&lt;h3>Fibre weave effect&lt;span class="hx-absolute -hx-mt-20" id="fibre-weave-effect">&lt;/span>
&lt;a href="#fibre-weave-effect" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/fibre_weave_skew_time_domain.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 24. Asymmetric routing over fibre-weave can produce intra-pair skew&lt;/i>
&lt;a href="https://www.signalintegrityjournal.com/articles/2459-beware-of-the-skew-budget-how-fiber-weave-effect-can-affect-your-high-speed-design">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/fibre_weave_skew_eye_diagram.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 25. Asymmetric routing over fibre-weave will degrade eye opening&lt;/i>
&lt;a href="https://www.signalintegrityjournal.com/articles/2459-beware-of-the-skew-budget-how-fiber-weave-effect-can-affect-your-high-speed-design">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.signalintegrityjournal.com/articles/2459-beware-of-the-skew-budget-how-fiber-weave-effect-can-affect-your-high-speed-design" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Signal integrity: Beware of the skew budget with fibre weave effect&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.pcb.cadence.com/blog/2019-the-fiber-weave-effect-skew-losses-and-resonance" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Cadence: The fibre weave effect, skew, losses and resonance&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>A poor choice of a dielectric with a non-uniform fibre weave pattern can result in large intra-pair skews.&lt;/li>
&lt;li>There is also no method of designing the circuit around a bad fibre weave since the manufacturer cannot position the weave at a specific offset.&lt;/li>
&lt;/ul>
&lt;h4>Better fibre weave patterns&lt;span class="hx-absolute -hx-mt-20" id="better-fibre-weave-patterns">&lt;/span>
&lt;a href="#better-fibre-weave-patterns" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/fibre_weave_patterns.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 26. Fibre weave patterns that are available from manufacturers&lt;/i>
&lt;a href="https://resources.pcb.cadence.com/blog/2019-the-fiber-weave-effect-skew-losses-and-resonance">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/altium_fibre_weave_flattened.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 27. Mechnically compressed fibre glass with flattened weave pattern&lt;/i>
&lt;a href="https://resources.altium.com/p/how-the-fiber-weave-effect-influences-high-frequency-signal-integrity">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;ul>
&lt;li>There should be careful selection of an appropriate fibre weave pattern for maximum uniformity.&lt;/li>
&lt;li>Additionally there is also mechanically compressed fibre glass which flattens the weave and fills in any gaps to produce a uniform weave pattern.&lt;/li>
&lt;li>Here is a pdf from Isola group who are a copper clad laminate and prepreg materials manufacturer.
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/isola_group_fibre_weave_patterns.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Isola group: Fibre weave patterns&lt;/div>
&lt;/a>
&lt;a href="https://www.isola-group.com/wp-content/uploads/Understanding-Laminate-Prepreg-Manufacturing.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>It contains various high quality images of fibre weave patterns and their fill factor measurements.&lt;/li>
&lt;li>They also include treatment processes for bonding the prepreg and core to copper layers and how that effects the copper smoothness which is relevant for &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/transmission_line/skin_effect
" >skin effect&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4>JLCPCB controlled impedance stackup&lt;span class="hx-absolute -hx-mt-20" id="jlcpcb-controlled-impedance-stackup">&lt;/span>
&lt;a href="#jlcpcb-controlled-impedance-stackup" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/jlcpcb_controlled_impedance_stackup_weave_patterns.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 28. JLCPCB fibre glass weave patterns for controlled impedance stackups&lt;/i>
&lt;a href="https://jlcpcb.com/impedance">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>JLCPCB offers a variety of fibre weave patterns when a multilayer controlled impedance stackup is requested (this is also free).&lt;/li>
&lt;li>It is also possible to stack two or more fibre weaves vertically to increase overall density and improve uniformity.&lt;/li>
&lt;/ul>
&lt;h3>Hatched ground plane&lt;span class="hx-absolute -hx-mt-20" id="hatched-ground-plane">&lt;/span>
&lt;a href="#hatched-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/hatched_ground_plane_unbalanced.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 29. Balanced and unbalanced routing of differential pair over hatched ground plane&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>For hatched ground planes in a flexible pcb design asymmetric routing can produce large intra-pair skews.&lt;/li>
&lt;li>For straight transmission line routes it is trivial to route the differential pair symmetrically.&lt;/li>
&lt;li>However if the transmission line needs to bend then the hatched ground plane needs to warp to avoid introducing skew.&lt;/li>
&lt;li>This is exceptionally difficult to do with KiCAD&amp;rsquo;s built in hatched ground fill tool.&lt;/li>
&lt;li>Requires manual layout and distortion of hatched ground plane to accomodate bends in a differential pair.&lt;/li>
&lt;/ul>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/hatched_ground_plane_manual_differential_bend.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 30. Manually warped hatched ground plane with differential pair bend&lt;/i>
&lt;/div>
&lt;/div>
&lt;ul>
&lt;li>Unfortunately KiCAD&amp;rsquo;s built in skew correction tools cannot measure skew for hatched ground planes generated manually or automatically by their ground fill tool.&lt;/li>
&lt;li>This makes verification of the intra-lane skew extremely difficult at the design stage.&lt;/li>
&lt;/ul></description></item><item><title>Hatched ground plane</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/hatched_ground_plane/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/hatched_ground_plane/</guid><description>
&lt;h2>Problems with thin flexible PCB&lt;span class="hx-absolute -hx-mt-20" id="problems-with-thin-flexible-pcb">&lt;/span>
&lt;a href="#problems-with-thin-flexible-pcb" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>The base polyimide dielectric core has a thickness of 25um.&lt;/li>
&lt;li>This means that we need extremely thin traces with a solid ground plane if we want to reach our PCIe impedance target.&lt;/li>
&lt;li>Thicker dielectric cores are provided but they increase cost substantially and trace width barely increases.&lt;/li>
&lt;li>Even worse the calculated transmission line trace width is calculated as 0.05mm which is below JLCPCB&amp;rsquo;s manufacturing minimums.&lt;/li>
&lt;/ul>
&lt;h2>Hatched ground plane&lt;span class="hx-absolute -hx-mt-20" id="hatched-ground-plane">&lt;/span>
&lt;a href="#hatched-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Hatched ground plane can allow for wider traces while matching impedance.&lt;/li>
&lt;li>No easy equation to get impedance measurement (fill factor approximation does not model this adequately).&lt;/li>
&lt;li>Design of hatched ground plane must meet manufacturing capabilities of JLCPCB.&lt;/li>
&lt;li>Requires parametric search with simulation software.&lt;/li>
&lt;li>Refer to this section about simulating circuits with &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/open_ems/hatched_ground
" >openEMS&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h2>Determining parameters&lt;span class="hx-absolute -hx-mt-20" id="determining-parameters">&lt;/span>
&lt;a href="#determining-parameters" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>There are three major parameters to consider:&lt;/p>
&lt;ol>
&lt;li>Trace width.&lt;/li>
&lt;li>Hatch width.&lt;/li>
&lt;li>Hatch gap.&lt;/li>
&lt;/ol>
&lt;p>Since we need to be above the minimum trace width for JLCPCB to manufacture it, we should select a fixed trace width of 0.1mm.&lt;/p>
&lt;ul>
&lt;li>This is similar the trace width of 0.13mm for our transmission line on the FR4 substrate for both the M.2 cad and Oculink port board.&lt;/li>
&lt;li>This means we will have an easier time designing a taper geometry when connecting the flex connector to our boards (discussed &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/transmission_line/flex_connection
" >here&lt;/a>).&lt;/li>
&lt;li>Means we only need to perform a parametric search with two variables (the hatch width and gap) which is less time consuming.&lt;/li>
&lt;/ul>
&lt;h2>Additional design considerations&lt;span class="hx-absolute -hx-mt-20" id="additional-design-considerations">&lt;/span>
&lt;a href="#additional-design-considerations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Refer to minimising &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/transmission_line/skew_requirements#hatched-ground-plane
" >intra-pair skew&lt;/a> for hatched ground planes and differential pairs.&lt;/p></description></item><item><title>Flex connection</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/flex_connection/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/flex_connection/</guid><description>
&lt;h2>Type of connection&lt;span class="hx-absolute -hx-mt-20" id="type-of-connection">&lt;/span>
&lt;a href="#type-of-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Flexible flat/printed cable connector&lt;span class="hx-absolute -hx-mt-20" id="flexible-flatprinted-cable-connector">&lt;/span>
&lt;a href="#flexible-flatprinted-cable-connector" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/molex_ffc_fpc_connector.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 36. Molex FFC/FPC connector&lt;/i>
&lt;a href="https://www.molex.com/en-us/products/connectors/ffc-fpc-connectors">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="width: 50%">Advantages&lt;/th>
&lt;th style="width: 50%">Disadvantages&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody style="vertical-align: top">
&lt;tr>
&lt;td>
&lt;ul>
&lt;li>Flexible connector can be replaced without resoldering the connector.&lt;/li>
&lt;li>Allows for easier installation and removal without danger of damaging flexible connector.&lt;/li>
&lt;/ul>
&lt;/td>
&lt;td>
&lt;ul>
&lt;li>Requires designing transmission line to gracefully transition to the connector without a large impedance discontinuity.&lt;/li>
&lt;li>Higher insertion loss compared to soldered connection since contact surface isn't perfect and there will be stubs from the internal connectors. This could hamper high frequency performance.&lt;/li>
&lt;li>Maximum usable frequency before insertion loss is more than 3dB is usually below 20GHz. This is the recommended design frequency for a good eye opening for PCIe 3.0 which has a fundemental frequency of 4GHz.&lt;/li>
&lt;li>Requires reflow soldering the connector which is extremely difficult for a fine pitch connector (0.2mm) without risk of bridging.&lt;/li>
&lt;li>Connectors add a few extra dollars of cost to the bill of materials&lt;/li>
&lt;/ul>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/molex_ffc_fpc_datasheet.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Molex: FFC/FPC connector maximum usable frequency and compatability with high speed USB&lt;/div>
&lt;/a>
&lt;a href="https://www.content.molex.com/dxdam/2f/2f35250f-5aa9-4ce8-a8be-a251f68293e0/987652-0193.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h3>Soldered connection&lt;span class="hx-absolute -hx-mt-20" id="soldered-connection">&lt;/span>
&lt;a href="#soldered-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="width: 50%">Advantages&lt;/th>
&lt;th style="width: 50%">Disadvantages&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody style="vertical-align: top">
&lt;tr>
&lt;td>
&lt;ul>
&lt;li>Allows for more control over the design of the transmission line structure&lt;/li>
&lt;li>Lower insertion loss since connection is soldered. This means no stubs caused by extra internal connector pins or non-ideal/non-uniform contact surface.&lt;/li>
&lt;li>Connector SMD pads can be designed specifically to avoid discontinuities in impedance caused by trace length mismatch, loss of coplanar ground traces or ground plane.&lt;/li>
&lt;/ul>
&lt;/td>
&lt;td>
&lt;ul>
&lt;li>Low tolerance for z-height error on pad connections requires soldering the connector very flat to the SMD pads. This may require pressure during the reflow process&lt;/li>
&lt;li>Requires hand positioning of flexible connector onto pads which is extremely difficult since the traces are only 0.1mm. Any pitch error will result in possible bridging or degraded signal integrity&lt;/li>
&lt;li>Flexible pcb is not removable and is permanently connected to the boards. This might make installation or removal more difficult if connector is in a suboptimal location.&lt;/li>
&lt;/ul>
&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Final choice&lt;span class="hx-absolute -hx-mt-20" id="final-choice">&lt;/span>
&lt;a href="#final-choice" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The &lt;strong>soldered connection&lt;/strong> allows closer control over the design of the tranmission line and avoids the downsides of a FFC connector. This should allow us to avoid or mitigate the signal integrity issues that will arise from the use of a FFC connector.&lt;/p>
&lt;h2>Structure of transmission line&lt;span class="hx-absolute -hx-mt-20" id="structure-of-transmission-line">&lt;/span>
&lt;a href="#structure-of-transmission-line" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/sierra_express_coplanar_ground_plane_via_fence_transmission_line.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 31. Differential pair with coplanar ground plane stitched with via fence&lt;/i>
&lt;/div>
&lt;/div>
&lt;p>The following are useful equations to describe the impedance of the transmission line in relation to it&amp;rsquo;s geometry. These will be useful in determining which parameters to adjust if we want to meet our PCIe impedance target. This comes at the cost of lower modularity but is this is an acceptable compromise for higher guarantees of high frequency signal performance.&lt;/p>
&lt;h3>Characteristic impedance&lt;span class="hx-absolute -hx-mt-20" id="characteristic-impedance">&lt;/span>
&lt;a href="#characteristic-impedance" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Rough equation for a simple transmission line is given by:&lt;/p>
&lt;p>\[
Z_0 = \sqrt{\frac{L}{C}}
\]&lt;/p>
&lt;p>This is still useful when discussing changes in impedance for a variety of transmission line structures if we discuss them in terms of differing trace inductances and capacitances.&lt;/p>
&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://home.sandiego.edu/~ekim/e194rfs01/tlsmthek.pdf" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>University of San Diego: Waves and impedances on transmission_lines&lt;/div>
&lt;/a>
&lt;/div>
&lt;h3>Parallel plate capacitors&lt;span class="hx-absolute -hx-mt-20" id="parallel-plate-capacitors">&lt;/span>
&lt;a href="#parallel-plate-capacitors" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The capacitance between a simple two plate system is given by:
&lt;p>\[ C = \frac{\epsilon_0 A}{d} \]&lt;/p>
&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/parallel_plate_capacitor.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 35. Parallel plate capacitor&lt;/i>
&lt;a href="https://byjus.com/physics/parallel-plate-capacitor/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;h3>Wire over plane&lt;span class="hx-absolute -hx-mt-20" id="wire-over-plane">&lt;/span>
&lt;a href="#wire-over-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>The inductance of a wire over a plane can be approximated as:
&lt;p>\[ L = \frac{\mu_0 \mu_r d}{2 \pi} cosh^{-1}{\frac{h}{2r}} \]&lt;/p>
&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/wire_over_plane.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 34. Solid wire over ground plane&lt;/i>
&lt;a href="https://www.allaboutcircuits.com/tools/wire-over-plane-inductance-calculator/">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;h2>Stackup height differences&lt;span class="hx-absolute -hx-mt-20" id="stackup-height-differences">&lt;/span>
&lt;a href="#stackup-height-differences" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/jlcpcb_stackup_diagram.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 32. JLCPCB FR4 stackup vs flexible PCB stackup&lt;/i>
&lt;a href="https://jlcpcb.com/impedance">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;p>Transitioning our transmission line from an FR4 stackup to a flexible PCB stackup causes the height of the dielectric in the transmission line to significantly decrease.&lt;/p>
&lt;ul>
&lt;li>Therefore signal trace to ground plane capacitance increases which causes impedance to decrease.&lt;/li>
&lt;li>Mismatch in impedance causes signal reflections and reduced integrity.&lt;/li>
&lt;/ul>
&lt;h3>Hatched ground plane&lt;span class="hx-absolute -hx-mt-20" id="hatched-ground-plane">&lt;/span>
&lt;a href="#hatched-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>If the transmission line signal traces have the same width, using a suitably designed hatched ground plane will increase the impedance to meet our impedance target.&lt;/p>
&lt;ul>
&lt;li>See &lt;a href="https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/hatched_ground_plane" >designing hatched ground plane&lt;/a> for more details.&lt;/li>
&lt;li>See &lt;a href="https://williamyang98.github.io/oculink_m2_adapter/docs/design/open_ems/hatched_ground" >simulating hatched ground plane&lt;/a> for more details.&lt;/li>
&lt;/ul>
&lt;h2>Vertical transmission line connection&lt;span class="hx-absolute -hx-mt-20" id="vertical-transmission-line-connection">&lt;/span>
&lt;a href="#vertical-transmission-line-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/jlcpcb_stackup_connection.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 33. JLCPCB transmission line connection between FR4 stackup and flexible PCB&lt;/i>
&lt;/div>
&lt;/div>
Transition from FR4 stackup to flexible PCB involves a vertical solder connection which produces an impedance discontinuity.&lt;/p>
&lt;ul>
&lt;li>The coplanar ground traces experience some discontinuity when it meets the solder connection due to an increase in the conductor height.
&lt;ul>
&lt;li>Results in an increase in edge coupling area.&lt;/li>
&lt;li>This increases capacitance and decreases impedance.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>The E-fields between the signal traces and ground planes have to switch layers.
&lt;ul>
&lt;li>Broadside coupling means stronger E-fields and more energy being carried compared to the coplanar ground traces which use edge coupling.&lt;/li>
&lt;li>Capacitive coupling is greater through a broadside connection since the traces are 0.1mm wide, compared to the edge side coupling which occurs over a 0.012mm or 0.035mm&lt;/li>
&lt;li>This was verified through an &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/open_ems/
" >open EMS simulation&lt;/a>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Tapered connection&lt;span class="hx-absolute -hx-mt-20" id="tapered-connection">&lt;/span>
&lt;a href="#tapered-connection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/flex_pcb_transmission_line_taper.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 37. Flexible PCB transmission line taper&lt;/i>
&lt;/div>
&lt;/div>
&lt;p>A taper is a gradual change in the geometry of a transmission line that attempts to maintain consistent impedance value across a geometric transition.&lt;/p>
&lt;ul>
&lt;li>We use a linear taper to transition the E-field broadside coupling from the ground plane on the M.2 card to the ground plane on the flexible PCB.&lt;/li>
&lt;li>A linear taper is not necessarily the best however it is very simple to design.
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://resources.altium.com/p/rf-trace-taper" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>Altium: How to design an RF taper for impedance matching&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>Other taper designs have complex non-linear equations describing their shape which is difficult to import/design using KiCAD.&lt;/li>
&lt;li>Linear taper just requires the polyline tool in KiCAD.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3>Parametric optimisation of taper&lt;span class="hx-absolute -hx-mt-20" id="parametric-optimisation-of-taper">&lt;/span>
&lt;a href="#parametric-optimisation-of-taper" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>To verify the performance of the taper &lt;a href="https://williamyang98.github.io/oculink_m2_adapter//docs/design/open_ems/taper
" >openEMS&lt;/a> was used.&lt;/p>
&lt;ul>
&lt;li>Simulated stackup with flex PCB connected to FR4 transmission line as a 3 layer board.
&lt;ul>
&lt;li>Layers were: &lt;code>[FR4 ground, signal traces, flex PCB ground]&lt;/code>.&lt;/li>
&lt;li>The soldered signal traces were approximated as an ideal single trace on a single layer.&lt;/li>
&lt;li>This was done so that only the E-field transition between the ground planes was relevant for our parametric search.&lt;/li>
&lt;li>Might not be ideal from a simulation accuracy standpoint as the geometry of the solder connection might impact the impedance match. However representing the solder connection in our simulation setup was difficult so this approximation/assumption was used.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Parametric search was done on the length, width, and amount of overlap of the linear taper.&lt;/li>
&lt;li>Shape of taper was modified separately on the FR4 stack up and flexible PCB stackup.&lt;/li>
&lt;li>Possible that simulation was not accurate since mesh size is limited and linear taper requires very small simulation grid size to accurately capture the pointy part.&lt;/li>
&lt;/ul></description></item><item><title>Calculations</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/calculations/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/design/transmission_line/calculations/</guid><description>
&lt;h2>JLCPCB data&lt;span class="hx-absolute -hx-mt-20" id="jlcpcb-data">&lt;/span>
&lt;a href="#jlcpcb-data" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Soldermask&lt;span class="hx-absolute -hx-mt-20" id="soldermask">&lt;/span>
&lt;a href="#soldermask" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Location&lt;/th>
&lt;th>Thickness (mil)&lt;/th>
&lt;th>Thickness (mm)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Laminate&lt;/td>
&lt;td>1.2&lt;/td>
&lt;td>0.03048&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Traces&lt;/td>
&lt;td>0.6&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Dielectric constant = 3.8&lt;/p>
&lt;h3>Core dielectric&lt;span class="hx-absolute -hx-mt-20" id="core-dielectric">&lt;/span>
&lt;a href="#core-dielectric" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Dielectric constant = 4.6&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://jlcpcb.com/impedance?_t=1727251667361" target="_blank" rel="noopener">JLCPCB impedance control stackup information&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://jlcpcb.com/help/article/User-Guide-to-the-JLCPCB-Impedance-Calculator" target="_blank" rel="noopener">JLCPCB impedance calculator guide&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3>JLC04081H-3313 Stackup&lt;span class="hx-absolute -hx-mt-20" id="jlc04081h-3313-stackup">&lt;/span>
&lt;a href="#jlc04081h-3313-stackup" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Name breakdown&lt;span class="hx-absolute -hx-mt-20" id="name-breakdown">&lt;/span>
&lt;a href="#name-breakdown" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Part&lt;/th>
&lt;th>Meaning&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>04&lt;/td>
&lt;td>4 layer&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>08&lt;/td>
&lt;td>8mm thickness&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>1oz outer copper&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>H&lt;/td>
&lt;td>half (0.5oz) inner copper&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3313&lt;/td>
&lt;td>3133 prepreg&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Stackup information&lt;span class="hx-absolute -hx-mt-20" id="stackup-information">&lt;/span>
&lt;a href="#stackup-information" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Layer&lt;/th>
&lt;th>Material Type&lt;/th>
&lt;th>Thickness (mm)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Trace&lt;/td>
&lt;td>Copper&lt;/td>
&lt;td>0.035&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Prepreg&lt;/td>
&lt;td>3313x1&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inner Layer&lt;/td>
&lt;td>Copper&lt;/td>
&lt;td>0.0152&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Core&lt;/td>
&lt;td>Core&lt;/td>
&lt;td>0.45&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inner Layer&lt;/td>
&lt;td>Copper&lt;/td>
&lt;td>0.0152&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Prepreg&lt;/td>
&lt;td>3313x1&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace&lt;/td>
&lt;td>Copper&lt;/td>
&lt;td>0.035&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Core material properties&lt;span class="hx-absolute -hx-mt-20" id="core-material-properties">&lt;/span>
&lt;a href="#core-material-properties" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Nan Ya Plastics NP-155F (4 to 8 layers)&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Core Thickness (mm)&lt;/th>
&lt;th>Îµr&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0.08&lt;/td>
&lt;td>3.99&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.10&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.13&lt;/td>
&lt;td>4.17&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.15&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.20&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.25&lt;/td>
&lt;td>4.23&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.30&lt;/td>
&lt;td>4.41&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.35&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.40&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.45&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.50&lt;/td>
&lt;td>4.48&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.55&lt;/td>
&lt;td>4.41&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.60&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.65&lt;/td>
&lt;td>4.36&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.70&lt;/td>
&lt;td>4.53&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&amp;gt; 0.70&lt;/td>
&lt;td>4.43&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Prepreg&lt;span class="hx-absolute -hx-mt-20" id="prepreg">&lt;/span>
&lt;a href="#prepreg" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;h4>Source 1&lt;span class="hx-absolute -hx-mt-20" id="source-1">&lt;/span>
&lt;a href="#source-1" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Prepreg Type&lt;/th>
&lt;th>Resin Content&lt;/th>
&lt;th>Nominal Thickness (mil)&lt;/th>
&lt;th>Îµr&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>7628&lt;/td>
&lt;td>49%&lt;/td>
&lt;td>8.6&lt;/td>
&lt;td>4.4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3313 (2313)&lt;/td>
&lt;td>57%&lt;/td>
&lt;td>4.2&lt;/td>
&lt;td>4.1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1080&lt;/td>
&lt;td>67%&lt;/td>
&lt;td>3.3&lt;/td>
&lt;td>3.91&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2116&lt;/td>
&lt;td>54%&lt;/td>
&lt;td>4.9&lt;/td>
&lt;td>4.16&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4>Source 2&lt;span class="hx-absolute -hx-mt-20" id="source-2">&lt;/span>
&lt;a href="#source-2" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Prepreg type&lt;/th>
&lt;th>Dielectric constant&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>7628&lt;/td>
&lt;td>4.6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3313&lt;/td>
&lt;td>4.05&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2116&lt;/td>
&lt;td>4.25&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Impedance calculator results&lt;span class="hx-absolute -hx-mt-20" id="impedance-calculator-results">&lt;/span>
&lt;a href="#impedance-calculator-results" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://jlcpcb.com/pcb-impedance-calculator" target="_blank" rel="noopener">JLCPCB impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Layers&lt;/td>
&lt;td>4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Thickness&lt;/td>
&lt;td>0.8mm&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Inner copper weight&lt;/td>
&lt;td>0.5oz&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Outer copper weight&lt;/td>
&lt;td>1.0oz&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Stackup&lt;/td>
&lt;td>JLC04081H-3313&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>NOTE&lt;/strong>: Core is 0.5mm instead of expected 0.45mm which might reduce accuracy of calculations.&lt;/p>
&lt;h4>Trace thicknesses&lt;span class="hx-absolute -hx-mt-20" id="trace-thicknesses">&lt;/span>
&lt;a href="#trace-thicknesses" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Impedance (Î©)&lt;/th>
&lt;th>Type&lt;/th>
&lt;th>Config&lt;/th>
&lt;th>Trace width (mm)&lt;/th>
&lt;th>Trace spacing (mm)&lt;/th>
&lt;th>Distance coplanar (mm)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>85&lt;/td>
&lt;td>Coplanar differential pair with ground&lt;/td>
&lt;td>L1-L2&lt;/td>
&lt;td>0.1549&lt;/td>
&lt;td>0.15&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>85&lt;/td>
&lt;td>Coplanar differential pair with ground&lt;/td>
&lt;td>L2-L3-L4&lt;/td>
&lt;td>0.1334&lt;/td>
&lt;td>0.15&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>42.5&lt;/td>
&lt;td>Coplanar single ended with ground&lt;/td>
&lt;td>L1-L2&lt;/td>
&lt;td>0.1971&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>42.5&lt;/td>
&lt;td>Coplanar single ended with ground&lt;/td>
&lt;td>L2-L3-L4&lt;/td>
&lt;td>0.1679&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2>Sierra circuits calculations&lt;span class="hx-absolute -hx-mt-20" id="sierra-circuits-calculations">&lt;/span>
&lt;a href="#sierra-circuits-calculations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/" target="_blank" rel="noopener">Sierra circuits impedance calculator&lt;/a>&lt;/p>
&lt;h3>Prepreg dielectric material property&lt;span class="hx-absolute -hx-mt-20" id="prepreg-dielectric-material-property">&lt;/span>
&lt;a href="#prepreg-dielectric-material-property" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Rigid - FR408HR - Prepreg&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Dielectric thickness&lt;/td>
&lt;td>4.2?&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Construction&lt;/td>
&lt;td>1x3313-59%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Resin content&lt;/td>
&lt;td>59%&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Frequency (GHz)&lt;/th>
&lt;th>Dielectric constant&lt;/th>
&lt;th>Dissipation factor&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>3.58&lt;/td>
&lt;td>0.009&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>3.57&lt;/td>
&lt;td>0.009&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>3.55&lt;/td>
&lt;td>0.010&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>10&lt;/td>
&lt;td>3.54&lt;/td>
&lt;td>0.010&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>20&lt;/td>
&lt;td>3.54&lt;/td>
&lt;td>0.010&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Coplanar stripline differential pair with ground plane&lt;span class="hx-absolute -hx-mt-20" id="coplanar-stripline-differential-pair-with-ground-plane">&lt;/span>
&lt;a href="#coplanar-stripline-differential-pair-with-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/?appid=CPSLDPIMPCAL" target="_blank" rel="noopener">Impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>L2-L3-L4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L2-L3 dielectric height (mm)&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L2-L3 dielectric constant&lt;/td>
&lt;td>3.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3-L4 dielectric height (mm)&lt;/td>
&lt;td>0.45&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3-L4 dielectric constant&lt;/td>
&lt;td>4.4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3 Trace thickness (mm)&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3 Trace separation (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor spacing (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor width (mm)&lt;/td>
&lt;td>0.6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Dielectric covering tracks&lt;/td>
&lt;td>L2-L3&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Input parameter&lt;/th>
&lt;th>Input value&lt;/th>
&lt;th>Output parameter&lt;/th>
&lt;th>Output value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Zdiff (Î©)&lt;/td>
&lt;td>85&lt;/td>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1372&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1334&lt;/td>
&lt;td>Zdiff (Î©)&lt;/td>
&lt;td>85.88&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Coplanar soldermask coated microstrip differential pair with ground plane&lt;span class="hx-absolute -hx-mt-20" id="coplanar-soldermask-coated-microstrip-differential-pair-with-ground-plane">&lt;/span>
&lt;a href="#coplanar-soldermask-coated-microstrip-differential-pair-with-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/?appid=CPCTDPIMPCAL" target="_blank" rel="noopener">Impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>L1-L2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L1-L2 dielectric height (mm)&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L1-L2 dielectric constant&lt;/td>
&lt;td>3.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask substrate height (mm)&lt;/td>
&lt;td>0.03048&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask trace height (mm)&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask dielectric constant&lt;/td>
&lt;td>3.8&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace thickness (mm)&lt;/td>
&lt;td>0.035&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace separation (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor spacing (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor width (mm)&lt;/td>
&lt;td>0.6&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Input parameter&lt;/th>
&lt;th>Input value&lt;/th>
&lt;th>Output parameter&lt;/th>
&lt;th>Output value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Zdiff (Î©)&lt;/td>
&lt;td>85&lt;/td>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1676&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1549&lt;/td>
&lt;td>Zdiff (Î©)&lt;/td>
&lt;td>88.18&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Coplanar stripline single ended with ground plane&lt;span class="hx-absolute -hx-mt-20" id="coplanar-stripline-single-ended-with-ground-plane">&lt;/span>
&lt;a href="#coplanar-stripline-single-ended-with-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/?appid=CPSLSEIMPCAL" target="_blank" rel="noopener">Impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>L2-L3-L4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L2-L3 dielectric height (mm)&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L2-L3 dielectric constant&lt;/td>
&lt;td>3.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3-L4 dielectric height (mm)&lt;/td>
&lt;td>0.45&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3-L4 dielectric constant&lt;/td>
&lt;td>4.4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L3 Trace thickness (mm)&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor spacing (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor width (mm)&lt;/td>
&lt;td>0.6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Dielectric covering tracks&lt;/td>
&lt;td>L2-L3&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Input parameter&lt;/th>
&lt;th>Input value&lt;/th>
&lt;th>Output parameter&lt;/th>
&lt;th>Output value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Zdiff (Î©)&lt;/td>
&lt;td>42.5&lt;/td>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.174&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1679&lt;/td>
&lt;td>Zdiff (Î©)&lt;/td>
&lt;td>43.27&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3>Coplanar soldermask coated microstrip singled ended with ground plane&lt;span class="hx-absolute -hx-mt-20" id="coplanar-soldermask-coated-microstrip-singled-ended-with-ground-plane">&lt;/span>
&lt;a href="#coplanar-soldermask-coated-microstrip-singled-ended-with-ground-plane" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;a href="https://impedance.app.protoexpress.com/?appid=CPCTSEIMPCAL" target="_blank" rel="noopener">Impedance calculator&lt;/a>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Configuration&lt;/td>
&lt;td>L1-L2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L1-L2 dielectric height (mm)&lt;/td>
&lt;td>0.0994&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>L1-L2 dielectric constant&lt;/td>
&lt;td>3.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask substrate height (mm)&lt;/td>
&lt;td>0.03048&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask trace height (mm)&lt;/td>
&lt;td>0.01524&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Soldermask dielectric constant&lt;/td>
&lt;td>3.8&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace thickness (mm)&lt;/td>
&lt;td>0.035&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor spacing (mm)&lt;/td>
&lt;td>0.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Conductor width (mm)&lt;/td>
&lt;td>0.6&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Input parameter&lt;/th>
&lt;th>Input value&lt;/th>
&lt;th>Output parameter&lt;/th>
&lt;th>Output value&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Zdiff (Î©)&lt;/td>
&lt;td>42.5&lt;/td>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Trace width (mm)&lt;/td>
&lt;td>0.1971&lt;/td>
&lt;td>Zdiff (Î©)&lt;/td>
&lt;td>44.5&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item></channel></rss>