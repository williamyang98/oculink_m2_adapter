<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>M.2 Oculink Adapter â€“ Specifications</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/</link><description>Recent content in Specifications on M.2 Oculink Adapter</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/index.xml" rel="self" type="application/rss+xml"/><item><title>PCIe Specification</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/pcie_specification/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/pcie_specification/</guid><description>
&lt;h2>PCIe pinout&lt;span class="hx-absolute -hx-mt-20" id="pcie-pinout">&lt;/span>
&lt;a href="#pcie-pinout" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Differential signalling along receive (RX) and transmit (TX) lanes.
&lt;ul>
&lt;li>Polarity of lanes can be inverted.&lt;/li>
&lt;li>Order of lanes can be reversed between host and device.&lt;/li>
&lt;li>Number of RX and TX lanes must be the same (symmetrical).&lt;/li>
&lt;li>Allows for more flexible routing in space constrained environment.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Reference clock is provided from host for timing and synchronisation (100MHz).
&lt;ul>
&lt;li>Polarity cannot be swapped.&lt;/li>
&lt;li>Supposed to be optional but is actually mandatory for almost all devices.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>CLKREQ&lt;/code> is pull downed by device to request PCIe reference clock.&lt;/li>
&lt;li>&lt;code>PERST&lt;/code> is used to reset the PCIe link.&lt;/li>
&lt;li>&lt;code>PEWAKE&lt;/code> is used by device to signal to host to wake up (maybe for network cards?).&lt;/li>
&lt;li>&lt;code>SMBCLK&lt;/code> and &lt;code>SMBDAT&lt;/code> is the system management bus and is an I2C interface (optional?)&lt;/li>
&lt;/ul>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/pcie_x4_pinout.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Diagram 1. PCIe x4 connector pinout&lt;/i>
&lt;a href="https://www.adt.link/download/ADT-Cable-R42SF-specification.html">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;h2>PCIe generations&lt;span class="hx-absolute -hx-mt-20" id="pcie-generations">&lt;/span>
&lt;a href="#pcie-generations" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>With differential signalling the fundemental frequency is half the transfer rate.&lt;/li>
&lt;li>An encoding scheme of xb/yb means X bits out for Y bits in.
&lt;ul>
&lt;li>8b/10b: 1 start bit, 8 data bits, 1 end bit.&lt;/li>
&lt;li>128b/130b: 1 start bit, 128 data bits, 1 end bit.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Gen&lt;/th>
&lt;th>Freq (GHz)&lt;/th>
&lt;th>Transfers (GT/s)&lt;/th>
&lt;th>Encoding&lt;/th>
&lt;th>Bitrate (Gb/s/lane)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1.0&lt;/td>
&lt;td>1.25&lt;/td>
&lt;td>2.5&lt;/td>
&lt;td>8b/10b&lt;/td>
&lt;td>2.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.0&lt;/td>
&lt;td>2.5&lt;/td>
&lt;td>5.0&lt;/td>
&lt;td>8b/10b&lt;/td>
&lt;td>4.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.0&lt;/td>
&lt;td>4.0&lt;/td>
&lt;td>8.0&lt;/td>
&lt;td>128b/130b&lt;/td>
&lt;td>7.88&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4.0&lt;/td>
&lt;td>8.0&lt;/td>
&lt;td>16.0&lt;/td>
&lt;td>128b/130b&lt;/td>
&lt;td>15.75&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5.0&lt;/td>
&lt;td>16.0&lt;/td>
&lt;td>32.0&lt;/td>
&lt;td>128b/130b&lt;/td>
&lt;td>31.51&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a href="https://www.fibermall.com/blog/pci-e-8-things-need-to-know.htm?srsltid=AfmBOopgeGo-dXRX-pSEtWbIZLO_PH3ypMCtOfEtcSswcBTuCEQRbUBx#%E2%97%8F_PCI_Express_10" class="hx-inline-flex">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div>PCIe: 8 Things You Need to Know Early&lt;/div>
&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;h2>Maximum design frequency&lt;span class="hx-absolute -hx-mt-20" id="maximum-design-frequency">&lt;/span>
&lt;a href="#maximum-design-frequency" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>For a good eye opening the transmissions lines should be designed for 5x the fundemental frequency. For PCIe 4.0 the fundamental frequency is 8GHz which means an ideal maximum design frequency of 40GHz.&lt;/p>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/altium_eye_diagram.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Diagram 4. Eye diagram&lt;/i>
&lt;a href="https://resources.altium.com/p/what-eye-diagram">(source)&lt;/a>
&lt;/div>
&lt;/div></description></item><item><title>M.2 to Oculink</title><link>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/components/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://williamyang98.github.io/oculink_m2_adapter/docs/specifications/components/</guid><description>
&lt;h2>M.2 card&lt;span class="hx-absolute -hx-mt-20" id="m2-card">&lt;/span>
&lt;a href="#m2-card" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Usually used for M.2 SSDs in laptop or desktop motherboards.&lt;/li>
&lt;li>Pins follow the PCIe specification for x4 lanes.&lt;/li>
&lt;/ul>
&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 75%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/m2_card_size.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Diagram 2. M.2 card size standards&lt;/i>
&lt;a href="https://www.unitek-products.com/products/usb3-1-gen2-type-c-to-m-2-ssd-pcie-nvme-enclosure">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/m2_connector_pinout_table.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Table 1. M.2 connector pinout&lt;/i>
&lt;a href="https://www.anandtech.com/show/13609/pcisig-warns-of-incompatibilities-between-m2-and-samsungs-ngsff">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;/p>
&lt;h2>Oculink port&lt;span class="hx-absolute -hx-mt-20" id="oculink-port">&lt;/span>
&lt;a href="#oculink-port" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;ul>
&lt;li>Follows the SFF-9402 specification which is compatible with PCIe&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/sff_9402_specification.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">SFF-9402 specification&lt;/div>
&lt;/a>
&lt;a href="https://members.snia.org/document/dl/27380">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;li>Female port is rated for 10000 insertion cycles.&lt;/li>
&lt;li>Male cable is rated at a minimum of 50.&lt;/li>
&lt;li>Compatible with the PCIe specification for x4 or x8 lanes.&lt;/li>
&lt;li>Wider x8 lane variant is not as useful since no M.2 slot as of yet supports PCIe x8 lanes.&lt;/li>
&lt;li>&lt;div class="hx-rounded hx-border hx-inline-flex hx-flex-row hx-px-2 hx-py-1 hx-align-middle hx-shadow">
&lt;a class="hx-flex" href="https://williamyang98.github.io/oculink_m2_adapter//pdfs/amphenol_oculink_port_datasheet.pdf">
&lt;div style="width: 1.5rem; height: 1.5rem; margin-right: 0.25rem">
&lt;span class="hx-font-semibold hx-gap-2 hx-text-gray-500 hover:hx-text-gray-900 dark:hx-text-neutral-200 dark:hover:hx-text-neutral-50">
&lt;svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">&lt;path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>&lt;/svg>
&lt;/span>
&lt;/div>
&lt;div style="margin-right: 0.25rem">Amphenol Oculink port datasheet&lt;/div>
&lt;/a>
&lt;a href="https://cdn.amphenol-cs.com/media/wysiwyg/files/documentation/ps-7545.pdf">(source)&lt;/a>
&lt;/div>
&lt;/li>
&lt;/ul>
&lt;p>&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="width: 50%">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/amphenol_oculink_port.jpg" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Image 1. Amphenol oculink port&lt;/i>
&lt;a href="https://www.amphenol-cs.com/product-series/oculink.html">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;div class="responsive-image hx-rounded hx-border hx-mb-4 hx-shadow" style="">
&lt;img loading="lazy" decoding="async" src="https://williamyang98.github.io/oculink_m2_adapter//images/diagrams/amphenol_oculink_port_pinout_table.png" style="margin-top: 0rem; margin-bottom: 0rem"/>
&lt;div class="hx-text-center hx-my-2">
&lt;i>Table 2. Amphenol Oculink connector pinout&lt;/i>
&lt;a href="https://electronics.stackexchange.com/questions/675174/oculink-connector-pin-configuration-for-root-port-and-endpoint">(source)&lt;/a>
&lt;/div>
&lt;/div>
&lt;/p></description></item></channel></rss>